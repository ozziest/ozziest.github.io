I"Ş<p>YazÄ±lÄ±m dÃ¼nyasÄ±nda sÄ±k karÅŸÄ±laÅŸÄ±lan problemlerden biri de hiyerarÅŸik yapÄ±ya sahip kategorilerdir. Bu yapÄ±yÄ± kurabilmek iÃ§in iki tÃ¼rlÃ¼ model kullanÄ±lmaktadÄ±r;</p>

<ul>
  <li>TÃ¼mleÅŸik YapÄ± KalÄ±bÄ± (The Adjacency List Model)</li>
  <li>YerleÅŸim YapÄ± KalÄ±bÄ± ( Nested Set Model)</li>
</ul>

<h2 id="tÃ¼mleÅŸik-yapÄ±-kalÄ±bÄ±-the-adjacency-list-mode">TÃ¼mleÅŸik YapÄ± KalÄ±bÄ± (The Adjacency List Mode)</h2>

<p>Bu model Ã¼zerindeki yapÄ±da bilgiler aynÄ± tablo Ã¼zerinde, kategorilerin birbirlerinin IDâ€™lerini referans gÃ¶stermeleriyle muhafaza edilmektedir. Ancak bu ÅŸekilde verileri kaydettiÄŸinizde, hiyerarÅŸik yapÄ±yÄ± listelerken kendi kendini Ã§aÄŸÄ±ran fonksiyonlar kullanmak zorunda kalÄ±rsÄ±nÄ±z. Ã‡Ã¼nkÃ¼ hangi kategorinin altÄ±nda kaÃ§ tane daha kategori var, bu alt kategorilerin altÄ±nda baÅŸka kaÃ§ kategori var tek tek kontrol etmeniz gerekmektedir. Ãœstelik derinliÄŸin nereye kadar gideceÄŸini hiÃ§ bilmediÄŸinizden bu yapÄ± sizi ya Ã§Ä±kmaza gÃ¶tÃ¼rÃ¼r ya da ciddi bir performans kaybÄ± yaÅŸarsÄ±nÄ±z. Hele hele bu yapÄ±da oluÅŸturulan bir tablo baÅŸka bir tablo ile baÄŸlantÄ±lÄ± ise ve JOIN ile birlikte veri almanÄ±z gerekiyorsa sorununuz daha Ã§ok bÃ¼yÃ¼yecektir. Bu nedenle bu yapÄ±yÄ± Ã§ok fazla Ã¶nerilmemektedir.</p>

<h2 id="yerleÅŸim-yapÄ±-kalÄ±bÄ±--nested-set-model">YerleÅŸim YapÄ± KalÄ±bÄ± ( Nested Set Model)</h2>

<p>Bu yapÄ±da ise kÃ¼me yerleÅŸimi ÅŸeklinde verileri kaydettiÄŸinizi dÃ¼ÅŸÃ¼nebilirsiniz. SaÄŸ taraftaki gÃ¶rselde kategorilerileriniz nasÄ±l yerleÅŸtirileceÄŸi ÅŸematik olarak anlatÄ±lmaktadÄ±r. Burada Ã¶nemli olan husus, her bir kategorinin nereden nereye kadar bir kampsamÄ± olduÄŸunun da kaydedilmesidir. Bunun iÃ§in â€œsolâ€ ve â€œsaÄŸâ€ doÄŸrultuda iki alan daha veritabanÄ±na kaydedilmektedir.</p>

<p><img src="http://upload.wikimedia.org/wikipedia/commons/thumb/4/41/NestedSetModel.svg/400px-NestedSetModel.svg.png" alt="Nested Set Modek" /></p>

<p>Ã–rneÄŸin â€œClothingâ€ in kapsamÄ±na baktÄ±ÄŸÄ±mÄ±zda 1-22 arasÄ±ndadÄ±r. Ancak â€œSlackâ€ 4-5 arasÄ±ndadÄ±r. Bu tÃ¼rde kaydettiÄŸiniz verileri tek SQL cÃ¼mleciÄŸi Ã¼zerinde BEETWEEN anahtarÄ±yla sorgulatabilirsiniz. Ã‡Ã¼nkÃ¼ tÃ¼m alanlarÄ±n kapsamÄ±nÄ±n nereden baÅŸlayÄ±p nereden biteceÄŸi bellidir.</p>

<p>Konumuzun Ã¶zÃ¼ Nested Set Model olmadÄ±ÄŸÄ± iÃ§in daha fazla bilgi vermeyeceÄŸim. Daha ayrÄ±ntÄ±lÄ± bilgi iÃ§in WikiPediaâ€˜dan yararlanabilirsiniz.</p>

<h2 id="laravel-4-Ã¼zerinde-nested-set-model-kullanÄ±m">Laravel 4 Ãœzerinde Nested Set Model KullanÄ±m</h2>

<p>Laravel Ã¼zerinde YerleÅŸim YapÄ± KalÄ±bÄ± (Nested Set Model) kullanmak oldukÃ§a basittir. Baum isimli kÃ¼tÃ¼phaneyi projenize dahil ederek hÄ±zlÄ±ca kullanÄ±ma baÅŸlayabilrisiniz. (GitHub) Nested Set Modelâ€™in algoritmasÄ± Ã¶zellikle kayÄ±t ekleme ve silme iÅŸlemlerinde gÃ¶receli olarak karÄ±ÅŸÄ±k olduÄŸundan, bu kÃ¼tÃ¼phane ile eklenilen kayÄ±tlarÄ±n kapsamlarÄ±nÄ± siz dÃ¼ÅŸÃ¼nmezsiniz. Tek yapmanÄ±z gereken hangi kategorinin neyin altÄ±nda olduÄŸunu belirlemek. Sol kapsamÄ±n ve saÄŸ kapsamÄ±n neler olacaÄŸÄ±nÄ± Baum bizim yerimize kendisi belirlemektedir.</p>

<p>Ã–rnek KullanÄ±m</p>

<pre><code class="language-php">
$root = Category::create(['name' =&gt; 'YazÄ±lÄ±m']); 
$php = Category::create(['name' =&gt; 'PHP']); 
$php-&gt;makeChildOf($root);
</code></pre>

:ET