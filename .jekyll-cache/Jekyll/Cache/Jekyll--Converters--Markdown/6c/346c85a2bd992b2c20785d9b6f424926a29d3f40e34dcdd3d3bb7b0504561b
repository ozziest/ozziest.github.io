I"z<p><a href="https://pixabay.com/en/rocket-launch-rocket-take-off-nasa-67643/" target="_blank">
    <img src="/images/posts/coding.jpg" class="center" />
</a></p>

<p>Annotation kavramÄ± veriler hakkÄ±nda Ã¶n bilgiler veren baÅŸka veri bloklarÄ±, <strong>notlar</strong> olarak adlandÄ±rÄ±lÄ±r. Normalde bir Ã¶zellikleri yoktur. PHP ile yazÄ±lÄ±m geliÅŸtirme aÅŸamasÄ±nda da annotationâ€™lar dokÃ¼man bloklarÄ± iÃ§erisinde sÄ±kÃ§a kullanÄ±lÄ±r ama yazÄ±lÄ±ma etki etmezler. Ancak bazen bu durum farklÄ±laÅŸabilir.</p>

<blockquote>
  <p>JAVA gibi bazÄ± dillerde annotation dilin bir parÃ§asÄ±dÄ±r ve programÄ±n Ã§alÄ±ÅŸmasÄ±na doÄŸrudan etki eder. Ancak konumuz PHP. :)</p>
</blockquote>

<h2 id="phpdeki-kullanÄ±m">PHPâ€™deki KullanÄ±m</h2>

<p>Normal ÅŸartlar altÄ±nda aÅŸaÄŸÄ±daki gibi dokÃ¼man bloklarÄ±na yazÄ±lan kodlar PHP tarafÄ±ndan yorumlanmaz ve programÄ±n akÄ±ÅŸÄ±na herhangi bir katkÄ± saÄŸlamaz.</p>

<pre><code class="language-php">
/**
 * This method gets the record by id
 *
 * @param  integer 		$id 
 * @return object
 */
public function find($id)
{
	// code samples
}
</code></pre>

<p>Ancak PHPâ€™de <a href="">ReflectionClass</a> olarak adlandÄ±rÄ±lan bir takÄ±m sÄ±nÄ±flarla bir sÄ±nÄ±f iÃ§in instance oluÅŸturmadan, o sÄ±nÄ±f hakkÄ±nda bilgiler alabilirsiniz ve buna dokÃ¼man bloklarÄ± da dahildir;</p>

<pre><code class="language-php">
/** 
* A test class
*
* @param  foo bar
* @return baz
*/
class TestClass { }

$rc = new ReflectionClass('TestClass');
var_dump($rc-&gt;getDocComment())
</code></pre>

<p>BÃ¶ylece herhangi bir sÄ±nÄ±fÄ±n, herhangi bir metodunu Ã§aÄŸÄ±rmadan Ã¶nce dÃ¶kÃ¼man bloguna yazÄ±lan annotationâ€™la program akÄ±ÅŸlarÄ±nÄ± deÄŸiÅŸtirebilirsiniz.</p>

<h2 id="neden">Neden?</h2>

<p>â€œNeden bÃ¶yle bir ÅŸeye ihtiyaÃ§ duyulur?â€ sorusunu duyuyor gibiyim. Buna <a href="http://symfony.com/">Symfony Framework</a> iÃ§erisinde kullanÄ±lan <a href="http://www.doctrine-project.org/">Doctirine</a> ORM modelleriyle cevap vermek gÃ¼zel olabilir;</p>

<pre><code class="language-php">
/**
 * @ORM\Entity
 * @ORM\Table(name="product")
 */
class Product
{
    /**
     * @ORM\Column(type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="AUTO")
     */
    protected $id;

    /**
     * @ORM\Column(type="string", length=100)
     */
    protected $name;
}
</code></pre>

<p>Bir kez bu <strong><em>Ã¶n yorumlama</em></strong> iÅŸlemiyle Ã§ok kullanÄ±ÅŸlÄ± sÄ±nÄ±flar oluÅŸturmanÄ±z mÃ¼mkÃ¼n. Ancak buna raÄŸmen annotation kullanmanÄ±n zararlÄ± olduÄŸunu dÃ¼ÅŸÃ¼nenler de var. Tek bir doÄŸru olamayacaÄŸÄ± iÃ§in her iki tarafa da kulak vermek ve uygulamalarÄ± gÃ¶rmek en akÄ±lcÄ± yol olabilir.</p>

<h2 id="kolay-taraf">Kolay Taraf</h2>

<p>Ancak siz bÃ¶yle bir yapÄ±yÄ± uygulamalarÄ±nÄ±zda oluÅŸturmak isterseniz, <strong>Reflection</strong> sÄ±nÄ±flarÄ± ile uzun uzadÄ±ya uÄŸraÅŸmanÄ±ze gerek yok. Bu iÅŸi oldukÃ§a basit bir ÅŸekilde halleden bir paketimiz bile var; <a href="https://github.com/marcioAlmada/annotations">Annotations</a>. Ãœstelik ÅŸuanda <strong>PHP-7</strong> desteÄŸiyle ilgili bir <strong><em>branch</em></strong> oluÅŸturularak Ã§alÄ±ÅŸmalara baÅŸlanmÄ±ÅŸ bile.</p>

<p>Ä°lgili paketi kullanarak aÅŸaÄŸÄ±daki gibi hÄ±zlÄ±ca annotation yorumlayabilirsiniz;</p>

<pre><code class="language-php">
$annotations = $reader-&gt;getClassAnnotations('FooController');
$annotations-&gt;get('name')     // &gt; string(3) "Foo"
$annotations-&gt;get('accept')   // &gt; array(3){ [0] =&gt; "json" [1] =&gt; "xml" [2] =&gt; "csv" }
</code></pre>

<p>Paket ile ilgili Ã§ok daha detaylÄ± bilgileri dokÃ¼manÄ± Ã¼zerinden Ã¶ÄŸrenebilirsiniz; <a href="https://github.com/marcioAlmada/annotations">https://github.com/marcioAlmada/annotations</a></p>

:ET