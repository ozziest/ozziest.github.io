I"¬<p><a href="https://pixabay.com/photos/grey-crowned-crane-bird-crane-540657/" target="_blank" title="">
  <img class="center" src="/images/posts/31.jpg" />
</a></p>

<blockquote>
  <p>Bu makaleye konu olan sunumu <a href="https://kommunity.com/mavidurakio">MaviDurak-IO</a> ve <a href="https://www.meetup.com/Sakarya-Coders/">Sakarya Coders</a> iÅŸbirliÄŸi ile <a href="https://kommunity.com/mavidurakio/events/gitlab-cicd-ile-aws-uzerinde-olceklenebilir-uygulama-yayinlama">15 Ekim</a>â€˜de yapÄ±lan bir etkinlikte gerÃ§ekleÅŸtirdim. HazÄ±r bu kadar belgeyi bir araya getirmiÅŸken, Ã¼zerinde biraz daha emek vererek bir blog yazÄ±sÄ± yazmak mantÄ±klÄ± geldi. Bu makaledeki ilk iki bÃ¶lÃ¼m, daha Ã¶nceden yazdÄ±ÄŸÄ±m <a href="https://ozguradem.net/turkish/coding/2019/04/13/aws-cloud-front-content-delivery-network-nedir-nasil-kullanilir/">Amazon CloudFront Nedir ve NasÄ±l KullanÄ±lÄ±r?</a> baÅŸlÄ±klÄ± makalemden aynen kopyalanmÄ±ÅŸtÄ±r.</p>
</blockquote>

<h3 id="1-motivasyon-1">1. Motivasyon [1]</h3>

<p>Åu an dÃ¼nya Ã¼zerindeki internet kullanÄ±cÄ±sÄ± sayÄ±sÄ± 4.39 milyardan daha fazla [<a href="https://wearesocial.com/blog/2019/01/digital-2019-global-internet-use-accelerates">1</a>]. Ãœstelik bu bir nefeste rahatlÄ±ka telaffuz ettiÄŸimiz rakam, her geÃ§en gÃ¼n hÄ±zla artÄ±yor. 2023 yÄ±lÄ±ndan sonra internete baÄŸlÄ± olan cihaz sayÄ±sÄ±nÄ±n 50 milyarÄ± geÃ§eceÄŸi tahmin ediliyor [<a href="https://www.statista.com/statistics/471264/iot-number-of-connected-devices-worldwide/">2</a>]. Ä°nternet demek, temelde birbirine baÄŸlÄ± cihazlarÄ±n haberleÅŸmesi, bilgi alÄ±ÅŸ veriÅŸinde bulunmasÄ± demektir. Bu nedenle geliÅŸtireceÄŸimiz ya da geliÅŸtirmekte olduÄŸumuz uygulamarÄ±n, kapsamlarÄ± da Ã¶nemli olmakla birlikte, bu denli yÃ¼ksek potansiyel kullanÄ±cÄ±ya hizmet verebilmesi oldukÃ§a ciddi bir sorun olmaya baÅŸlÄ±yor.</p>

<p>YazÄ±lÄ±m geliÅŸtirme ekosisteminde Ã¶lÃ§eklendirme, yukarÄ±daki paragrafta bahsettiÄŸimiz bu sorunun Ã§Ã¶zÃ¼mÃ¼ iÃ§in gerekli olan yÃ¶ntem ve tekniklerin bÃ¼tÃ¼nÃ¼ olarak nitelendirilebilmektedir. WikiPediaâ€™da kullanÄ±lan tanÄ±ma gÃ¶re <strong><em>Ã¶lÃ§eklendirme; artan iÅŸ yÃ¼kÃ¼ne cevap verebilmek iÃ§in mevcut sisteme daha fazla kaynak eklenmesi Ã¶zelliÄŸidir</em></strong> [<a href="https://en.wikipedia.org/wiki/Scalability">3</a>]. Web sunucularÄ± Ã¶zelinde mesele ele alÄ±ndÄ±ÄŸÄ±nda, web sunucusunun daha fazla isteÄŸe cevap verebilmesi beklenmektedir. Ã–lÃ§eklendirmeyi yatay ve dikey (horizontal,vertical) olarak iki farklÄ± tÃ¼rde yapabiliriz. Ya mevcut bir sunucuya direkt olarak daha fazla donanÄ±msal kaynak ekleriz ya da daha aynÄ± sunucunun daha fazla yan yana koyarak isteklere sÄ±rayla cevap vermelerini bekleriz.</p>

<p>Ã–lÃ§eklendirmedeki asÄ±l sorun maliyettir. Bir startup ÅŸirketi olarak yeni uygulama geliÅŸtirdiÄŸinizi dÃ¼ÅŸÃ¼nÃ¼n. UygulamanÄ±zÄ±n potansiyel kullanÄ±cÄ±sÄ± 1 milyar. Bu potansiyel kullanÄ±cÄ±larÄ±n hiÃ§ bir zaman uygulamanÄ±zÄ± kullanmama ihtimali de olmasÄ±na karÅŸÄ±n, gerÃ§ekleÅŸtiÄŸinde onlara cevap verebilmeniz gerekmektedir. EÄŸer tÃ¼m Ã¶lÃ§eklendirme sorunlarÄ±nÄ± kendi baÅŸÄ±mÄ±za Ã§Ã¶zmeye kalkarsak, Ã§ok ciddi yatÄ±rÄ±mlar yapmak zorundayÄ±z. Tam da bu noktada yardÄ±mÄ±mÄ±za bulut servis saÄŸlayÄ±cÄ±lar (Cloud Services Providers) koÅŸmaktadÄ±r.</p>

<h3 id="2-cloud-services-providers-1">2. Cloud Services Providers [1]</h3>

<p>Amazon kimileri iÃ§in bir e-ticaret sitesinden ibaret olsa da, bizim iÃ§in Ã¶lÃ§eklenebilirlik sorunlarÄ±mÄ±za Ã§Ã¶zÃ¼m bulan gÃ¼Ã§lÃ¼ bir yardÄ±mcÄ±mÄ±zdÄ±r. Kendi e-ticaret ihtiyaÃ§larÄ± iÃ§in kendi sunucularÄ±na ciddi rakamlarla yatÄ±rÄ±mlar yapmÄ±ÅŸ ve ciddi boyuttaki iÅŸlem yÃ¼klerine cevap verebilmektedir. Bize saÄŸladÄ±ÄŸÄ± gÃ¼zellik de kendi imkanlarÄ±nÄ± bizimle paylaÅŸmasÄ±dÄ±r. Tabii olarak bu paylaÅŸÄ±m iÃ§in bir miktar kira talep etmektedir. Ancak gÃ¼zel tarafÄ± artan taleplerinize gÃ¶re fiyatlandÄ±rma (On Deman Pricing) uygulamasÄ±dÄ±r. AWS kullandÄ±ÄŸÄ±nÄ±zda, yukarÄ±daki Ã¶rneÄŸimizdeki gibi potansiyel kullanÄ±cÄ±sÄ± 1 milyar olan bir uygulama geliÅŸtirdiÄŸiniz zaman, ilk zamanlarda yÃ¼ksek miktarlarda yatÄ±rÄ±m yapmanÄ±za gerek kalmamaktadÄ±r. KullanÄ±cÄ± sayÄ±sÄ±nÄ±z ve doÄŸal olarak iÅŸ yÃ¼kÃ¼nÃ¼z dÃ¼ÅŸÃ¼kken, daha dÃ¼ÅŸÃ¼k Ã¼cretler Ã¶demeniz bulut servis saÄŸlayÄ±cÄ±larla mÃ¼mkÃ¼n olabilmektedir.</p>

<blockquote>
  <p>Amazon (AWS), bulut servis saÄŸlayÄ±cÄ±sÄ± sunan tek ÅŸirket deÄŸildir. Google, Microsoft, IBM ve hatta AliBaba da bulut servis saÄŸlayÄ±cÄ±larÄ±n sunduklarÄ± bir Ã§ok hizmeti sunmaktadÄ±r. Ancak bu yazÄ±mÄ±zda konumuz Amazon CloudFront olduÄŸu iÃ§in diÄŸer saÄŸlayÄ±cÄ±lar gÃ¶z ardÄ± edilmiÅŸtir.</p>
</blockquote>

<h3 id="3-problem">3. Problem</h3>

<p>Bu makalemiz Ã¼zerinde, Ã¶ncelikle bir problem tanÄ±mÄ± yapacaÄŸÄ±z ve daha sonra bu problemi AWS ve GitLab CI/CD araÃ§larÄ±nÄ± kullanarak nasÄ±l Ã§Ã¶zebileceÄŸimizi gÃ¶receÄŸiz;</p>

<ul>
  <li>NodeJS ile geliÅŸtirilmiÅŸ bir APIâ€™ye sahibim. (Bu makale iÃ§erisinde bu APIâ€™dan <strong>mavi-api</strong> olarak bahsedeceÄŸiz.)</li>
  <li>Bu uygulamayÄ± bir sunucu Ã¼zerinde yayÄ±nlamak istiyorum.</li>
  <li>KaÃ§ kullanÄ±cÄ± tarafÄ±ndan kullanÄ±lacaÄŸÄ±nÄ± bilmiyorum. KullanÄ±cÄ± sayÄ±sÄ± yÃ¼z de olabilir, bir milyon da.</li>
  <li>Ã‡ok fazla param yok.</li>
  <li>Yetenekli sistem mimarlarÄ±na sahip deÄŸilim ve sadece kÃ¼Ã§Ã¼k bir geliÅŸtirici ekibim var.</li>
  <li>Ekibin deployment ve sunucu konfigÃ¼rasyonlarÄ± ile Ã§ok fazla vakit kaybetmesini istemiyorum.</li>
</ul>

<p>YukarÄ±da tanÄ±mladÄ±ÄŸÄ±mÄ±z problemin birden fazla Ã§Ã¶zÃ¼mÃ¼ mevcut. Bizim burada anlatacaÄŸÄ±mÄ±z Ã§Ã¶zÃ¼m yÃ¶ntemi tek bir Ã§Ã¶zÃ¼m yÃ¶nteminden ibaret olacaktÄ±r. Ancak bizim kullandÄ±ÄŸÄ±mÄ±z yÃ¶ntem ve araÃ§lardan Ã§ok daha farklÄ± Ã§Ã¶zÃ¼m yollarÄ±nÄ±n da olabileceÄŸini okuyucu aklÄ±ndan Ã§Ä±karmamalÄ±dÄ±r. TÃ¼m Ã§Ã¶zÃ¼m yÃ¶ntemlerini tek bir makale Ã¼zerinde anlatmak oldukÃ§a zor bir iÅŸtir. Ancak bunun yanÄ±nda, ben de, tÃ¼m Ã§Ã¶zÃ¼m yollarÄ±na hakim olan bir sistem mimarÄ± deÄŸilim. Bu nedenlerle, biz bu makale iÃ§erisinde sadece AWS-GitLab CI/CD araÃ§larÄ± ile oluÅŸturulabilecek Ã§Ã¶zÃ¼mlerden sadece bir tanesini anlatacaÄŸÄ±z. Buradaki amacÄ±mÄ±z sadece ve sadece bu tarz bir problemle karÅŸÄ±lan bir ekibe fikir vermekten ibarettir.</p>

<h3 id="4-terminoloji">4. Terminoloji.</h3>

<p>NasÄ±l bu problemi Ã§Ã¶zeceÄŸimizi gÃ¶stermeden evvel, Ã¶ncelikle bazÄ± kelimelerin, teknolojilerin ve kavramlarÄ±n bilinmesinde yarar bulunmaktadÄ±r. Yapmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±mÄ±z iÅŸ birÃ§ok farklÄ± parÃ§ayÄ± ve teknolojiyi iÃ§ermektedir. Biz burada, sadece bu teknolojilerin genel Ã¶zelliklerini ve ne amaÃ§la kullandÄ±klarÄ±na deÄŸinecek ve daha ileri dÃ¼zeyde bilgiler iÃ§in sizlere bazÄ± ileri okuma linkleri vereceÄŸiz.</p>

<h4 id="41-aws-nedir">4.1. AWS Nedir?</h4>

<p>DÃ¼nyanÄ±n en kapsamlÄ± ve yaygÄ±n kullanÄ±lan bulut platformudur. HÄ±zlÄ± bÃ¼yÃ¼yen startupâ€™lar, bÃ¼yÃ¼k kuruluÅŸlar ve Ã¶nde gelen devlet kurumlarÄ±nÄ±n dahil olduÄŸu milyonlarca mÃ¼ÅŸteri; altyapÄ±larÄ±nÄ± gÃ¼Ã§lendirmek, daha Ã§evik olmak ve maliyetleri azaltmak iÃ§in AWSâ€™ye gÃ¼venmektedir. [2]</p>

<p><a href="https://www.mobilhanem.com">mobilhanem</a> Ã¼zerinde Salih Kardan tarafÄ±ndan AWS Ã¼zerinde yazÄ±lan bir yazÄ±da ÅŸÃ¶yle bir pasaj geÃ§mektedir;</p>

<blockquote>
  <p><em>â€œAWS Servislerini kullanarak birÃ§ok yÃ¼kten kendinizi kurtarmÄ±ÅŸ oluyorsunuz. SunucularÄ±n gÃ¼venliÄŸi, internet ulaÅŸÄ±mÄ±, elektriÄŸi vs gibi etkenleri hiÃ§ dÃ¼ÅŸÃ¼nmeden, uygulamanÄ±zÄ± geliÅŸtirmeye odaklanabilirsiniz. AWS kullanarak uygulamalarÄ±nÄ±zÄ± kÄ±sa sÃ¼re iÃ§erisinde ayaÄŸa kaldÄ±rabilirsiniz ve kullandÄ±ÄŸÄ±nÄ±z kadar Ã¶deme (pay as you go) ile harcamalarÄ±nÄ±zÄ± azaltabilirsiniz.â€</em> [3]</p>
</blockquote>

<p>Buradaki tanÄ±mlamaya dikkat ederseniz, bizim problem tanÄ±mÄ±mÄ±zda yer alan bir Ã§ok sorunun AWS tarafÄ±ndan Ã§Ã¶zÃ¼lebildiÄŸi Ã¶zellikle vurgulanmaktadÄ±r.</p>

<h4 id="42-gitlab-nedir">4.2. GitLab Nedir?</h4>

<p>GitLabâ€™Ä±n sitesinde yer alan tanÄ±m ÅŸu ÅŸekilde;</p>

<blockquote>
  <p><em>GitLab yazÄ±lÄ±m geliÅŸtirme ekiplerinin bir yazÄ±lÄ±mÄ± ortaklaÅŸa geliÅŸtirebilmeleri iÃ§in aÃ§Ä±k kaynak kodlu bir proje olarak baÅŸlatÄ±ldÄ±. EndÃ¼striyel bir standart haline gelen GitLab, tÃ¼m yazÄ±lÄ±m geliÅŸtirme sÃ¼reÃ§leri iÃ§in ortak bir uygulama sunma amacÄ±nÄ± gÃ¼dÃ¼yor. GitLab uygulamanÄ±zÄ± yÃ¶netmek, planlamak, oluÅŸturmak, doÄŸrulamak, paketlemek, yayÄ±nlamak, konfigÃ¼re etmek, izlemek ve gÃ¼venli hale getirmek iÃ§in ihtiyacÄ±nÄ±z olan her ÅŸeyi size tek bir Ã§atÄ± altÄ±nda sunuyor.</em> [4]</p>
</blockquote>

<p>Burada Ã¶zellikle dikkat etmemiz gereken nokta <strong>yayÄ±nlama</strong> fonksiyonudur. GitLab, Ã¼rettiÄŸi Ã§eÅŸitli araÃ§larla birlikte, uygulamamÄ±zÄ± yayÄ±nlama aÅŸamasÄ±nda yardÄ±mcÄ± olabileceÄŸini sÃ¶ylÃ¼yor. Biz de yazÄ±nÄ±n ilerleyen bÃ¶lÃ¼mlerde GitLabâ€™Ä±n saÄŸlamÄ±ÅŸ olduÄŸu bu araÃ§lardan yararlanacaÄŸÄ±z.</p>

<h4 id="43-devops-ve-cicd-nedir">4.3. DevOps ve CI/CD Nedir?</h4>

<p>DevOps; organizasyonlarÄ±n yÃ¼ksek hÄ±zda yazÄ±lÄ±m geliÅŸtirme ve sunma kabiliyetlerini arttÄ±ran uygulamalarÄ±n, araÃ§larÄ±n ve bu kÃ¼ltÃ¼rÃ¼n bir birleÅŸimidir. [5]</p>

<p>Continuous Integration (CI) ve Continuous Delivery (CD) kavramlarÄ± sÄ±rasÄ±yla; SÃ¼rekli Entegrasyon ve SÃ¼rekli Teslimat manasÄ±na gelmektedir. CI/CD, kodlanan yazÄ±lÄ±mlarÄ±n durmaksÄ±zÄ±n derlenmesi, test edilmesi, entegre edilmesi, sÃ¼rÃ¼mlenmesi ve yayÄ±nlanmasÄ± sÃ¼recine karÅŸÄ±lÄ±k gelmektedir. [6]</p>

<p>Buradaki iki tanÄ±mdan da anlaÅŸÄ±lacaÄŸÄ± Ã¼zere, eÄŸer bir uygulamanÄ±n yayÄ±nlanmasÄ± iÅŸinin geliÅŸtirici ekibi Ã¼zerinden yÃ¼k oluÅŸturmasÄ±nÄ± istemiyorsak, DevOps kÃ¼ltÃ¼rÃ¼nden ve CI/CD araÃ§ ve yÃ¶ntemlerinden yararlanmamÄ±z gerekiyor. Biz de GitLabâ€™Ä±n bize sunduÄŸu bu araÃ§lardan bir tanesi olan <a href="https://docs.gitlab.com/runner/">GitLab Runner</a>â€˜dan yararlanacaÄŸÄ±z.</p>

<p>GitLab Runner, GitLabâ€™tan tamamen izole bir ÅŸekilde, Go dili kullanÄ±larak MIT LisansÄ± ile geliÅŸtirilmiÅŸ ve GNU/Linux, macOS, FreeBSD ve Windows Ã¼zerine kurulabilen ve bizim tarafÄ±mÄ±zdan tanÄ±mlanan CI/CD pipelineâ€™larÄ±nÄ± iÅŸletmekten ve sonuÃ§larÄ± API Ã¼zerinden GitLabâ€™a sunmaktan sorumlu olan bir araÃ§tÄ±r. [6]</p>

<p>GitLab Runnerâ€™Ä± herhangi bir makineye kurabilirsiniz. SÃ¶z konusu makine DigitalOcean Ã¼zerinde kiralayacaÄŸÄ±nÄ±z basit bir sunucu da olabilir, kendi bilgisayarÄ±nÄ±z da. GitLab sunucusunun, GitLab Runner ile aynÄ± makine Ã¼zerinde bulunmak gibi bir zorunluluÄŸu yoktur.</p>

<p>Ä°lave olarak, GitLab doÄŸrudan Ã¼cretsiz hesaplarÄ±n da kullanabileceÄŸi Shared Runnerâ€˜lar sunmaktadÄ±r. Dilerseniz bu paylaÅŸÄ±mlÄ± Runnerâ€™lardan herhangi birini de kullanmanÄ±z mÃ¼mkÃ¼ndÃ¼r. [6] Biz bu makalemizde, GitLabâ€™Ä±n bizim kullanÄ±mÄ±mÄ±za sunduÄŸu Shared Runnerâ€™lardan istifade edeceÄŸiz.</p>

<h4 id="44-docker-nedir">4.4. Docker Nedir?</h4>

<p>Dockerâ€™Ä±n kendi sitesinde yer alan tanÄ±ma gÃ¶re Docker; organizasyonlarÄ±n uygulmalarÄ±nÄ± derleyebileceÄŸi, paylaÅŸabileceÄŸi ve  Ã§alÄ±ÅŸtÄ±rabileceÄŸi tek baÄŸÄ±msÄ±z konteynÄ±r platformudur. [7] Ancak bu tanÄ±m ne yazÄ±k ki daha Ã¶nce virtualization ya da conterization kelimelerini hiÃ§ duymamÄ±ÅŸ pek Ã§ok insan iÃ§in bir anlam ifade etmeyecektir. Bu nedenle biz de bu tanÄ±mÄ± biraz daha geniÅŸletmek amacÄ±nÄ± gÃ¼dÃ¼yoruz.</p>

<p><a href="https://www.emrealadag.com/">Ahmet Emre AladaÄŸ</a>â€˜Ä±n kendi blogunda yayÄ±nladÄ±ÄŸÄ± <a href="https://www.emrealadag.com/docker-nedir.html">Docker Nedir?</a> baÅŸlÄ±klÄ± makalesine baktÄ±ÄŸÄ±mÄ±zda ise Docker tanÄ±mÄ± ÅŸu ÅŸekilde yapÄ±lÄ±yor;</p>

<blockquote>
  <p>Docker, yazÄ±lÄ±m geliÅŸtiriciler ve sistemciler iÃ§in geliÅŸtirilen aÃ§Ä±k kaynaklÄ± bir sanallaÅŸtÄ±rma platformudur. Docker ile Linux, Windows ve MacOSX Ã¼zerinde Linux ve Windows sanal containerler(makineler) Ã§alÄ±ÅŸtÄ±rabilirsiniz. Bu platform sayesinde web sistemlerinin kurulumunu, testini ve daÄŸÄ±tÄ±mÄ±nÄ± kolaylÄ±kla gerÃ§ekleÅŸtirebilirsiniz. [8]</p>
</blockquote>

<p>Biz ise tÃ¼m bu tanÄ±mlarÄ± birleÅŸtirmek iÃ§in Dockerâ€™Ä±n ÅŸÃ¶yle bir tanÄ±mÄ±nÄ± yapacaÄŸÄ±z;</p>

<p><em>Docker; 2008 yÄ±lÄ±nda Linux Ã§ekirdeÄŸine eklenen Linux Containers (LXC) teknolojisi Ã¼zerinde Ã§alÄ±ÅŸan, yazÄ±lÄ±m ve sistem geliÅŸtiriciler tarafÄ±ndan kullanÄ±labilen, klasik sanallaÅŸtÄ±rma yÃ¶ntemlerine gÃ¶re daha hÄ±zlÄ± bir ÅŸekilde sanallaÅŸtÄ±rma imkanÄ± saÄŸlayan, uygulamalarÄ±mÄ±zÄ± iÅŸletim sistemiyle ve ihtiyacÄ± olan diÄŸer bileÅŸenlerle birlikte pakatleyebileceÄŸimiz, daÄŸÄ±tabileceÄŸimiz ve Ã§alÄ±ÅŸtÄ±rabileceÄŸimiz aÃ§Ä±k kaynaklÄ± bir sanallaÅŸtÄ±rma platformudur.</em> [9]</p>

<p>Son yaptÄ±ÄŸÄ±mÄ±z tanÄ±mdan da anlaÅŸÄ±labileceÄŸi Ã¼zere, bu makalede, <strong>mavi-api</strong> uygulamamÄ±zÄ± Docker yardÄ±mÄ±yla iÅŸletim sistemiyle birlikte paketleyecek, daÄŸÄ±tacak ve Ã§alÄ±ÅŸtÄ±racaÄŸÄ±z.</p>

<h3 id="5-mimari-tasarÄ±m">5. Mimari TasarÄ±m</h3>

<p>UygulamamÄ±zÄ± bir sunucu Ã¼zerinde yayÄ±nladÄ±ÄŸÄ±mÄ±zda, genelde ÅŸu ÅŸekilde bir mimari tasarÄ±m kullanÄ±rÄ±z.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/01.png" /></p>

<p>Burada kullanÄ±cÄ±, doÄŸrudan tek bir makine Ã¼zerinde yayÄ±nladÄ±ÄŸÄ±mÄ± bir uygulamaya eriÅŸir. KullanÄ±cÄ± sayÄ±sÄ± arttÄ±ÄŸÄ±nda, doÄŸru orantÄ±lÄ± olarak sunucu Ã¼zerindeki CPU ve RAM kullanÄ±m miktarlarÄ±mÄ±zda artacaktÄ±r. Biz de buna paralel olarak daha fazla CPU ve RAM ekleyerek, artan yÃ¼kÃ¼ karÅŸÄ±lamaya Ã§alÄ±ÅŸÄ±rÄ±z. Bu yaptÄ±ÄŸÄ±mÄ±z iÅŸleme <em>Dikey Ã–lÃ§ekleme</em> adÄ± verilir. [10]</p>

<p>Ancak bu tarz bir Ã¶lÃ§eklemede Ã§eÅŸitli sÄ±nÄ±rlar vardÄ±r. Belirli bir noktadan sonra daha fazla CPU ve RAM eklememiz olanaksÄ±z hale gelir. Bu nedenle, <em>Yatay Ã–lÃ§ekleme</em> mimarisi kullanÄ±lÄ±r.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/02.png" /></p>

<p>Bu yaklaÅŸÄ±mda, kullanÄ±cÄ± ilk olarak bir <em>Load Balancer (YÃ¼k Dengeleyici)</em> tarafÄ±ndan karÅŸÄ±landÄ±r. Daha sonra bu kullanÄ±cÄ± istekleri, arka tarafta bulunan <strong>N</strong> sayÄ±daki herhangi bir makineye iletilebilir. Bu ÅŸekilde, oldukÃ§a fazla bir yÃ¼kÃ¼ karÅŸÄ±layabilirsiniz.</p>

<p><em>Ancak doÄŸadaki hiÃ§bir ÅŸey sonsuz gÃ¼zellikte deÄŸildir ve hiÃ§bir zaman hiÃ§bir Ã§Ã¶zÃ¼m tÃ¼m problemleri sonsuza kadar Ã§Ã¶zemez.</em></p>

<p>Bu ÅŸekilde bir mimari kurduÄŸumuzu ve e-ticaret uygulamamÄ±zÄ± bu mimari uygulamamÄ±zda Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zÄ± dÃ¼ÅŸÃ¼nelim. GÃ¼ndÃ¼z saatlerinde yÃ¼kÃ¼mÃ¼zÃ¼n Ã§ok fazla olmasÄ±na raÄŸmen, gece saatlerinde bu yÃ¼k azalacaktÄ±r. Ancak sistemimizi yÃ¼kÃ¼n az olduÄŸu zamana gÃ¶re kuramayÄ±z. Bu nedenle geceleri Ã§ok fazla ihtiyacÄ±mÄ±z olmayan onlarca, belki de yÃ¼zlerde makineyi sistemimize dahil etmiÅŸ olacaÄŸÄ±z. Bir de, <em>Black Friday</em> gibi aÅŸÄ±rÄ± yoÄŸunluklarÄ±n yaÅŸandÄ±ÄŸÄ± dÃ¶nemlerde, bu sisteme kolay bir ÅŸekilde yeni makineler ilave edemeyebiliriz.</p>

<p>Sorunlar bununla da bitmez. UygulamamÄ±zÄ±n yeni bir sÃ¼rÃ¼mÃ¼ Ã§Ä±ktÄ±ÄŸÄ±nda, tÃ¼m makinelerde tek tek gÃ¼ncellenmesi Ã§ok zaman alacaktÄ±r. Ek olarak, tÃ¼m makinelerin gÃ¼ncellemelerinin yapÄ±lmasÄ± ve Ã§eÅŸitli bakÄ±mlar da hem personel, hem zaman ve doÄŸal olarak maliyet olarak karÅŸÄ±mÄ±za Ã§Ä±kar.</p>

<p>En baÅŸta yaptÄ±ÄŸÄ±mÄ±z problem tanÄ±mÄ±nÄ± hatÄ±rlayÄ±n; biz kÃ¼Ã§Ã¼k bir ekibiz ve Ã§ok fazla kaynaÄŸÄ±mÄ±z yok. Belki bir ihtimal bir milyon kullanÄ±cÄ± gelebilir diyerek bu kadar devasa masraflara katlanamayÄ±z.</p>

<p>Biz de, problemi aÅŸaÄŸÄ±da kurduladÄ±ÄŸÄ±mÄ±z ÅŸekilde Ã§Ã¶zeceÄŸiz;</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/03.png" /></p>

<p>KurduladÄ±ÄŸÄ±mÄ±z mimariyi ÅŸu ÅŸekilde aÃ§Ä±klayabiliriz;</p>

<ul>
  <li>GeliÅŸtirici yeni bir sÃ¼rÃ¼m hazÄ±rladÄ±ÄŸÄ±nda bunu GitLabâ€™a gÃ¶nderir. (Git push)</li>
  <li>GitLab CI/CD yapÄ±landÄ±rmasÄ±, bu sÃ¼rÃ¼mÃ¼ GitLab Runner Ã¼zerinde Docker ile paketler ve iÅŸletim sistemiyle birlikte sanallaÅŸtÄ±rÄ±lan bu sÃ¼rÃ¼m, AWS Ã¼zerinde bulunan ECR servisine gÃ¶nderilir.</li>
  <li>AWS Ã¼zerinde bulunan ECSâ€™de, ECR Ã¼zerinde muhafaza ettiÄŸimiz bu paketlenmiÅŸ uygulamayÄ±, nasÄ±l bir makinede Ã§alÄ±ÅŸtÄ±rmak istediÄŸimizi tanÄ±mlarÄ±z (Task Definition).</li>
  <li>ECS Ã¼zerinde, nasÄ±l bir cluster yapÄ±sÄ±na sahip olmak istediÄŸimizi ve ne ÅŸartlarda bu clusterâ€™a yeni bir makine ekleneceÄŸini, ne ÅŸartlarda var olan makinelerin kaldÄ±rÄ±lacaÄŸÄ±nÄ± tanÄ±mlarÄ±z.</li>
  <li>AWS Ã¼zerinde bir <em>Load Balancer</em> oluÅŸturur ve burada topladÄ±ÄŸÄ±mÄ±z trafiÄŸi ECS Ã¼zerinde oluÅŸturduÄŸumuz Clusterâ€™a yÃ¶nlendiririz.</li>
</ul>

<h4 id="6-adÄ±m-adÄ±m-gerÃ§ekleÅŸtirme">6. AdÄ±m AdÄ±m GerÃ§ekleÅŸtirme</h4>

<p>Buraya kadar yeterince, hatta gereÄŸinden fazla konuÅŸtuk. Åimdi tÃ¼m adÄ±mlarÄ± teker teker gerÃ§ekleÅŸtireceÄŸiz.</p>

<p>Ã–ncelikle, <a href="https://gitlab.com/iozguradem/mavi-api">mavi-api</a> dosyalarÄ±nÄ±zÄ± lokal geliÅŸtirme ortamÄ±na indirebilirsiniz.</p>

<pre><code class="language-bash">$ git clone git@gitlab.com:iozguradem/mavi-api.git
$ cd ./mavi-api
$ yarn
$ yarn run start
</code></pre>

<blockquote>
  <p>Burada kolaylÄ±k olsun diye, benim daha Ã¶nceden yazdÄ±ÄŸÄ±m uygulamadan yararlanabilirsiniz. Ya da kendiniz de basit bir uygulama yazabilirsiniz. Ancak kendi bilgisayarÄ±nza kopyaladÄ±ÄŸÄ±nÄ±z bu uygulamayÄ±, benim repoâ€™ma gÃ¶ndermeyeceÄŸiniz iÃ§in, .git/config iÃ§erisinden repository adres deÄŸiÅŸikliÄŸi yapmanÄ±z gerekecektir.</p>
</blockquote>

<h5 id="61-dockerize">6.1. Dockerize</h5>

<p>UygulamamÄ±zÄ± Docker ile paketlenebilir yapmak istiyoruz. Ana dizinde bir <code class="language-plaintext highlighter-rouge">Dockerfile</code> oluÅŸturarak, aÅŸaÄŸÄ±daki iÃ§erikleri kopyalayabilirsiniz;</p>

<pre><code class="language-docker">FROM node:10
WORKDIR . /app
COPY package*.json ./
RUN npm install
COPY . .
CMD [ "npm", "start" ]
</code></pre>

<p>Daha sonra komut satÄ±rÄ± Ã¼zerinde aÅŸaÄŸÄ±daki komutu Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±nÄ±zda, uygulamanÄ±zÄ±n iÅŸletim sistemiyle birlikte paketlendiÄŸini gÃ¶receksiniz;</p>

<blockquote>
  <p>AÅŸaÄŸÄ±daki komutu Ã§alÄ±ÅŸtÄ±rabilmek iÃ§in bilgisayarÄ±nÄ±zda Dockerâ€™Ä±n kurulu olmasÄ± gerekiyor.</p>
</blockquote>

<pre><code class="language-bash">$ sudo docker build -t mavi-api .
Sending build context to Docker daemon  6.675MB
Step 1/6 : FROM node:10
10: Pulling from library/node
9a0b0ce99936: Pull complete 
db3b6004c61a: Pull complete 
f8f075920295: Pull complete 
6ef14aff1139: Pull complete 
0bbd8b48260f: Pull complete 
524be717efb1: Pull complete 
aad1e8812bc2: Pull complete 
13fb072986db: Pull complete 
627a2df19018: Pull complete 
Digest: sha256:f4b6f471cdd4b66b27eef899e7f8423ecd9fbfc863b2cb7a59978a7f64c8e0c3
Status: Downloaded newer image for node:10
 ---&gt; a68faf70e589
Step 2/6 : WORKDIR . /app
 ---&gt; Running in 613cacb07016
Removing intermediate container 613cacb07016
 ---&gt; 058cb5d51668
Step 3/6 : COPY package*.json ./
 ---&gt; 979bc91bf122
Step 4/6 : RUN npm install
 ---&gt; Running in 9cc328e20ff9
npm WARN presentation@1.0.0 No description
npm WARN presentation@1.0.0 No repository field.

added 50 packages from 37 contributors and audited 126 packages in 1.68s
found 0 vulnerabilities

Removing intermediate container 9cc328e20ff9
 ---&gt; 63be9c72bcf0
Step 5/6 : COPY . .
 ---&gt; 505564f5b223
Step 6/6 : CMD [ "npm", "start" ]
 ---&gt; Running in 95157a63dbe8
Removing intermediate container 95157a63dbe8
 ---&gt; 0d2273eca2d3
Successfully built 0d2273eca2d3
Successfully tagged mavi-api:latest
</code></pre>

<p><em>â€œSuccessfully tagged mavi-api:latestâ€</em> mesajÄ±nÄ± gÃ¶rdÃ¼ÄŸÃ¼nÃ¼zde, uygulamanÄ±z baÅŸarÄ±lÄ± bir ÅŸekilde dockerize edilmiÅŸ demekdir. AÅŸaÄŸÄ±daki komutla birlikte, kolaylÄ±kla uygulamayÄ± kendi bilgisayarÄ±nÄ±zda Ã§alÄ±ÅŸtÄ±rabilirsiniz;</p>

<pre><code class="language-bash">$ sudo docker run -p 8181:80 mavi-api
</code></pre>

<p>TarayÄ±cÄ± Ã¼zerinden <code class="language-plaintext highlighter-rouge">localhost:8181</code> adresine gittiÄŸinizde, uygulamanÄ±n Ã§alÄ±ÅŸan halini gÃ¶rebilirsiniz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/04.png" /></p>

<h4 id="62-aws-login">6.2. AWS Login</h4>

<p>EÄŸer henÃ¼z bir AWS hesabÄ±nÄ±z yoksa hemen oluÅŸturabilirsiniz. EÄŸer hali hazÄ±rda bir AWS hesabÄ±nÄ±z varsa <strong>console</strong> oturup aÃ§arak, AWS servislerine ulaÅŸabilirsiniz.</p>

<blockquote>
  <p>Bu aÅŸamadan sonra yapacaÄŸÄ±mÄ±z iÅŸlemler AWSâ€™de Ã¼crete tabi olabilir. EÄŸer herhangi bir Ã¼cret Ã¶demek istemiyorsanÄ±z, yapmayÄ±nÄ±z. EÄŸer yapÄ±yorsanÄ±z da, bu tamamen sizin sorumluluÄŸunuzdadÄ±r.</p>
</blockquote>

<p>AWS Ã¼zerinde oturum aÃ§tÄ±ktan sonra sizi bu ÅŸekilde bir ekran karÅŸÄ±layacaktÄ±r;</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/05.png" /></p>

<h4 id="63-aws-ecr-repository-oluÅŸturma">6.3. AWS ECR Repository OluÅŸturma</h4>

<p>Oturum aÃ§tÄ±ktan sonra, ECR servisinin sayfasÄ±na gidiniz. Daha Ã¶nce hiÃ§ ECR iÃ§inde repository oluÅŸturmamÄ±ÅŸsanÄ±z, <em>Create a Repository</em> bÃ¶lÃ¼mÃ¼ altÄ±ndan <em>Get Started</em> diyebilirsiniz. AmacÄ±mÄ±z yeni bir repository oluÅŸturmak. AÃ§Ä±lan ekranda size repository adÄ±nÄ± girmeniz beklenmektedir. Bilgileri aÅŸaÄŸÄ±daki gibi doldurarak <strong>Create Repository</strong> butonuna tÄ±klayabilirsiniz;</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/06.png" /></p>

<p>Daha sonra, AWS size sahip olduÄŸunuz repository listesini gÃ¶sterecektir. Bu liste Ã¼zerinde, az Ã¶nce oluÅŸturduÄŸumuz <strong>mavi-api-repository</strong> ismindeki repositoryâ€™i gÃ¶rebiliyor olmanÄ±z gerekiyor. Dikkat ederseniz <strong>URI</strong> sÃ¼tunu altÄ±nda, bu repositoryâ€™nin bir yolu olduÄŸunu belirtilmiÅŸ. Bu yolu, dockerize edilmiÅŸ uygulamamÄ±zÄ± AWSâ€™e gÃ¶nderirken kullanacaÄŸÄ±z. Ancak ÅŸimdilik bu bÃ¶lÃ¼mde iÅŸimiz tamam.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/07.png" /></p>

<h4 id="64-aws-permissions-iam">6.4. AWS Permissions (IAM)</h4>

<p>Åu an bir repomuz var ve biz buna dÄ±ÅŸarÄ±dan bir Docker imageâ€™Ä± gÃ¶ndereceÄŸiz. Ancak her Ã¶nÃ¼ne gelenin buraya bir ÅŸey gÃ¶ndermesi saÃ§ma olacaÄŸÄ±ndan, bir yetkilendirme yapacaÄŸÄ±z. Bunun iÃ§in AWS arayÃ¼zleri Ã¼zerinden, <strong>IAM</strong> servisini bularak iÅŸe baÅŸlÄ±yoruz. <strong>Users</strong> sekmesi altÄ±ndan, <strong>gitlab-user</strong> adÄ±nda yeni bir kullanÄ±cÄ± oluÅŸturacaÄŸÄ±z.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/08.png" /></p>

<p>Ancak <em>Set Permissions</em> adÄ±mÄ±nda, <em>â€œAttach existing policies directlyâ€</em> sekmesi altÄ±ndan, resimde gÃ¶rÃ¼nen iki tane yetkiyi bu kullanÄ±cÄ±ya vermeniz gerekiyor. Bu makeledeki iÅŸlemleri GitLabâ€™a gerÃ§ekleÅŸtirebilmek iÃ§in her iki yetkiye de ihtiyacÄ±mÄ±z var.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/09.png" /></p>

<p>KullanÄ±cÄ± oluÅŸturulduÄŸunda, bu kullanÄ±cÄ±nÄ±n eriÅŸim bilgilerini AWS size <strong>yalnÄ±zca bir defaya mahsus olmak Ã¼zere</strong> gÃ¶sterecektir. Bizim bu bilgilerimize GitLabâ€™Ä±n sahip olmasÄ± gerekiyor. Kesinlikle koda yazabileceÄŸimiz bir bilgi olmadÄ±klarÄ±ndan, sadece ve sadece GitLab Ã¼zerinde tanÄ±mlayacaÄŸÄ±mÄ±z <strong>Ortak DeÄŸiÅŸkenlerine (Environment Variables)</strong> yazacaÄŸÄ±z. Bunun iÃ§in, GitLab Ã¼zerinde oluÅŸturduÄŸunuz repositoryâ€™deki CI/CD ayarlarÄ±na gideceÄŸiz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/10.png" /></p>

<p>Bu ekranda iki tane ortam deÄŸiÅŸkeni tanÄ±mlayacaÄŸÄ±z;</p>

<ul>
  <li>AWS_ACCESS_KEY_ID</li>
  <li>AWS_SECRET_ACCESS_KEY</li>
</ul>

<p>Bu deÄŸerleri, yeni bir kullanÄ±cÄ± oluÅŸturduktan sonra AWS size verecektir. AWSâ€™den aldÄ±ÄŸÄ±mÄ±z bu deÄŸerleri, GitLabâ€™a vereceÄŸiz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/11.png" /></p>

<p>Bu aÅŸamadan sonra GitLab, AWSâ€™e eriÅŸebilecektir. Bunu nasÄ±l yapacaÄŸÄ±mÄ±zÄ± bir sonraki adÄ±mda gÃ¶rÃ¼yoruz.</p>

<h4 id="65-gitlab-cicd">6.5. GitLab CI/CD</h4>

<p>GitLabâ€™da, varsayÄ±lan olarak oluÅŸturulan her repository iÃ§erisinde GitLabâ€™Ä±n saÄŸlamÄ±ÅŸ olduÄŸu <em>Shared Runner</em>â€˜lar kullanÄ±labiliyor. Ancak bunlara ne gibi iÅŸlemler yaptÄ±rmak istediÄŸimizi, GitLabâ€™a tarif etmek zorundayÄ±z. Bunun iÃ§in, projenin ana dizininde, <code class="language-plaintext highlighter-rouge">.gitlab-ci.yml</code> isminde bir dosya oluÅŸturmamÄ±z gerekiyor. Bu dosya iÃ§erisini aÅŸaÄŸÄ±daki gibi doldurabilirsiniz;</p>

<pre><code class="language-yaml">stages:
  - deploy

services:
  - docker:19.03.0-dind

deploy-api:
  stage: deploy
  image: docker
  tags:
    - 'docker'
  only:
    refs:
      - master
  script:
    - apk add --update python python-dev py-pip build-base 
    - pip install awscli --upgrade --user
    - ~/.local/bin/aws --version
    - $(~/.local/bin/aws ecr get-login --no-include-email --region eu-central-1)
    - docker build -t api .
    - docker tag api:latest 459672519579.dkr.ecr.eu-central-1.amazonaws.com/mavi-api-repository:latest
    - docker push 459672519579.dkr.ecr.eu-central-1.amazonaws.com/mavi-api-repository:latest
</code></pre>

<blockquote>
  <p>Buradaki bazÄ± kavramlarÄ± anlamayabilirsiniz. EÄŸer bu dosya ne amaÃ§la kullanÄ±lÄ±yor, hangi keywordâ€™ler ne iÃ§in yazÄ±lÄ±yor Ã¶ÄŸrenmek istiyorsanÄ±z, daha Ã¶nceden hazÄ±rladÄ±ÄŸÄ±m <a href="https://ozguradem.net/turkish/coding/2019/01/16/gitlab-ile-ci-cd/">GitLab ile CI/CD</a> baÅŸlÄ±klÄ± makalemi kullanabilirsiniz.</p>
</blockquote>

<p>Bizim burada odaklanacaÄŸÄ±mÄ±z ana bÃ¶lÃ¼m <code class="language-plaintext highlighter-rouge">script</code> keywordâ€™Ã¼ altÄ±nda yazan kodlar. Bu kodlarÄ±n hepsi bir Docker konteynerÄ± iÃ§erisinde Ã§alÄ±ÅŸtÄ±rÄ±lacak. Biz Ã¶ncelikle, <strong>python</strong> programlama diline ve onun paket yÃ¶neticisi olan <strong>pip</strong>â€˜e sahip olmak istiyoruz. Daha sonra, AWSâ€™e hazÄ±rlayacaÄŸÄ±mÄ±z docker imageâ€™Ä±nÄ± gÃ¶nderebilmek iÃ§in <strong>aws-cli</strong> aracÄ±nÄ± kuruyoruz. 4. satÄ±rda ise bir login denemesi gerÃ§ekleÅŸtiriyoruz (Login denemesi anÄ±nda, Ortam DeÄŸiÅŸkenlerine eklediÄŸimiz AWS anahtarlarÄ± kullanÄ±lacaktÄ±r). EÄŸer herhangi bir hata Ã§Ä±kmazsa 5. satÄ±rda uygulamamÄ±zÄ± dockerize edeceÄŸiz. 6. satÄ±rda ise bu imageâ€™a <strong>latest</strong> etiketini vereceÄŸiz. 7. satÄ±rda ise bu imageâ€™Ä±, ECR Ã¼zerinde hazÄ±rladÄ±ÄŸÄ±mÄ±z repositoryâ€™mize gÃ¶ndereceÄŸiz.</p>

<blockquote>
  <p>LÃ¼tfen dikkat, ECR listesi Ã¼zerindeki URI ile bizim burada yazdÄ±ÄŸÄ±mÄ±z yol uyuÅŸmak zorundadÄ±r.</p>
</blockquote>

<p>EÄŸer bu kodu GitLabâ€™a pushâ€™larsak, GitLab Ã¼zerinden bulunan CI/CD burada yazdÄ±ÄŸÄ±mÄ±z gÃ¶revleri Shared Runnerâ€™a gÃ¶nderecek ve Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±nÄ± isteyecektir. Ã‡alÄ±ÅŸtÄ±ÄŸÄ±nda neler oluyor diye merak ediyorsanÄ±z, <a href="https://gitlab.com/iozguradem/mavi-api/-/jobs/320547684">buradaki</a> loglardan Ã§Ä±ktÄ±larÄ± gÃ¶rebilirsiniz. Ancak sonuÃ§ olarak, bizim GitLabâ€™a derlemesini sÃ¶ylediÄŸimiz imageâ€™Ä±mÄ±zÄ±, ECR Ã¼zerinde gÃ¶rebiliyor olmamÄ±z gerekiyor. EÄŸer siz de AWSâ€™in ECR servisinde oluÅŸturduÄŸumuz repository altÄ±nda bir image gÃ¶rÃ¼yorsanÄ±z, her ÅŸey yolunda demektir.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/12.png" /></p>

<h4 id="66-task-definition">6.6. Task Definition</h4>

<p>ArtÄ±k ECR Ã¼zerinde muhafaza ettiÄŸimiz bir Docker imageâ€™Ä± mevcut. Åimdi ise bu imageâ€™Ä±n nasÄ±l Ã§alÄ±ÅŸtÄ±rÄ±lacaÄŸÄ±nÄ± tanÄ±mlayacaÄŸÄ±z. Bunun iÃ§in AWS Ã¼zerinden ECS servisini bulacaÄŸÄ±z. Bu servisin detayÄ±nda, <strong>Task Definitions</strong> bÃ¶lÃ¼mÃ¼ altÄ±nda gideceÄŸiz ve yeni bir <em>Task Definition</em> tanÄ±mÄ± yapacaÄŸÄ±z. Task Definition oluÅŸtururken, <strong>Fargate</strong> teknolojisini seÃ§memiz gerekiyor. Biz elimizden geldiÄŸince bÃ¼tÃ¼n iÅŸi AWSâ€™e yÄ±kmak istiyoruz ve <strong>Fargate</strong> bunu bizim iÃ§in gerÃ§ekleÅŸtiriyor. [11]</p>

<p>OluÅŸturma ekranÄ±nÄ±n ikinci aÅŸamasÄ±nda, genel bilgileri ve rolleri seÃ§iyoruz. Bu aÅŸamada her ÅŸeyi varsayÄ±lanlarda bÄ±rakabiliriz. Ancak dikkat etmeniz gereken, Memory ve CPU Ã¶zelliklerini seÃ§tiÄŸimiz bÃ¶lÃ¼m. Burada, her bir makine iÃ§in ne kadarlÄ±k bir CPU ve Ram kullanacaÄŸÄ±mÄ±zÄ± seÃ§iyoruz. Bu deÄŸerleri dilediÄŸiniz gibi seÃ§ebilirsiniz. Ancak ne kadar yÃ¼ksek deÄŸerler seÃ§erseniz, her bir makinenizin maliyeti o kadar fazla olacaktÄ±r.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/13.png" /></p>

<p>AynÄ± sayfanÄ±n hemen alt bÃ¶lÃ¼mÃ¼nde, <strong>Add Container</strong> bÃ¶lÃ¼mÃ¼ bizim iÃ§in Ã¶nemli. Az Ã¶nce ECR Ã¼zerinde muhafaza etmeye baÅŸladÄ±ÄŸÄ±mÄ±z Docker imageâ€™Ä±nÄ±, burada kullanacaÄŸÄ±mÄ±zÄ± belirtmemiz gerekiyor. Bunun iÃ§in <em>Add Container</em> butonuna tÄ±klÄ±yoruz ve saÄŸ tarafta minik bir modal iÃ§erisinde aÅŸaÄŸÄ±daki gibi bir tanÄ±m gerÃ§ekleÅŸtiriyoruz;</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/14.png" /></p>

<p>Buradaki tanÄ±mlar bizim iÃ§in yeterlidir. DiÄŸer tÃ¼m Ã¶zellikleri varsayÄ±lan deÄŸerleriyle bÄ±rakabiliriz. <strong>Add</strong> butonuna tÄ±klayarak, bu container tanÄ±mÄ±mÄ±zÄ± <em>Task Definition</em> iÃ§erisine dahil edebiliriz. Daha sonra tek yapmamÄ±z gereken <strong>Create</strong> butonuna tÄ±klamak ve artÄ±k her bir makinemizin Ã¶zelliklerinin nasÄ±l olmasÄ± gerektiÄŸini tanÄ±mlamÄ±ÅŸ olduk.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/15.png" /></p>

<h4 id="67-load-balancer">6.7. Load Balancer</h4>

<p>Bu adÄ±mda, kullanÄ±cÄ±dan gelen istekleri karÅŸÄ±lamak iÃ§in bir <strong>Load Balancer</strong> oluÅŸturacaÄŸÄ±z. Ama Ã¶nce, sabit bir IPâ€™mizin olmasÄ±nÄ± istiyoruz. Bu aÅŸama ÅŸart deÄŸil ama gÃ¶rmÃ¼ÅŸken bunu da gÃ¶rebiliriz. Bunun iÃ§in <strong>EC2</strong> servisine gidiyoruz ve <strong>Elastic IPs</strong> bÃ¶lÃ¼mÃ¼nde, <strong>Allocate New IP Address</strong> diyerek yeni bir IP adresi alÄ±yoruz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/16.png" /></p>

<p>Bu IP adresimizi Load Balancerâ€™a tahsis edeceÄŸiz. Load Balancer oluÅŸturmak iÃ§in, <strong>Load Balancers</strong> sekmesini kullanÄ±yoruz. <strong>Create New Load Balancer</strong> menÃ¼sÃ¼ Ã¼zerinden, yeni bir <strong>Network Load Balancer</strong> oluÅŸturacaÄŸÄ±z. Ä°lk adÄ±mda bir isim veriyoruz ve hangi portlarÄ± dinleyeceÄŸimizi seÃ§iyoruz. SSL iÃ§in 443 numaralÄ± portu da dinleyebiliriz ancak biz ÅŸimdilik sadece 80 numaralÄ± portu seÃ§eceÄŸiz. Daha sonra hangi <em>Availability Zones</em> Ã¼zerinde konuÅŸlanacaÄŸÄ±mÄ±za karar veriyoruz. Bu aÅŸamada az Ã¶nce ayÄ±rdÄ±ÄŸÄ±mÄ±z statik IP adresini de kullanabiliriz. AÅŸaÄŸÄ±daki gibi yapÄ±landÄ±rmamÄ±zÄ± yaptÄ±ktan sonra, bir sonraki aÅŸamaya geÃ§ebiliriz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/17.png" /></p>

<p>EÄŸer 443 numaralÄ± SSL portunu da dinliyor olsaydÄ±k, 2. adÄ±mda Ã§eÅŸitli ayarlar yapmamÄ±z gerekirdi. Ancak biz ÅŸimdilik bu aÅŸamayÄ± geÃ§iyoruz. 3. adÄ±mda bir <strong>Target Group</strong> ayarÄ± yapmamÄ±z bekleniyor. Biz ÅŸimdilik sadece bir isimlendirme yapÄ±yoruz. ECS tarafÄ±nda bir Cluster oluÅŸtururken target group ECS tarafÄ±ndan oluÅŸturulup yÃ¶netilecek. Bu nedenle sadece bir isimlendirme yaparak, bu haliyle Load Balancerâ€™Ä± oluÅŸturabiliriz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/18.png" /></p>

<p>Daha sonra hem bir tane Load Balancer hem de Target Group oluÅŸturulmuÅŸ olacak. Her iki listeden de bunlarÄ± gÃ¶rebilirsiniz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/19.png" /></p>

<h4 id="68-cluster-oluÅŸturma">6.8. Cluster OluÅŸturma</h4>

<p>Åimdi ise her ÅŸeyi birleÅŸtirmenin zamanÄ± geldi. ECS Ã¼zerinde Ã¶ncelikle bir Cluster oluÅŸturacaÄŸÄ±z. Daha sonra da bu Cluster iÃ§erisinde bir servis oluÅŸturacaÄŸÄ±z. Cluster oluÅŸturmak iÃ§in ECS bÃ¶lÃ¼mÃ¼ne gidebiliriz. <strong>Create Cluster</strong> butonuna tÄ±kladÄ±ÄŸÄ±mÄ±zda, bize Cluster ÅŸemasÄ± soracaktÄ±r. Yine burada <strong>Fargate</strong> seÃ§imi yapmamÄ±z Ã¶nemli. Ä°kinci aÅŸamada sadece bir isimlendirme yapmamÄ±z yeterli olacaktÄ±r. Geriye kalan her ÅŸey varsayÄ±lan ayarlarÄ±nda kalabilir.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/20.png" /></p>

<h4 id="69-servis-oluÅŸturma">6.9. Servis OluÅŸturma</h4>

<p>Daha sonra, Cluster detayÄ±na gittiÄŸimizde, henÃ¼z herhangi bir servisin olmadÄ±ÄŸÄ±nÄ± gÃ¶rmekteyiz. Bu adÄ±mda yeni bir servis oluÅŸturacaÄŸÄ±z. Bu adÄ±m en Ã¶nemli adÄ±mÄ±mÄ±z Ã§Ã¼nkÃ¼ tÃ¼m auto scaling yapÄ±landÄ±rmasÄ±nÄ± burada kurguluyoruz. TÃ¼m parÃ§alarÄ±n bir araya geldiÄŸi nokta burasÄ±. AyrÄ±ca bir servis oluÅŸturduktan sonra, bazÄ± ayarlar daha sonradan deÄŸiÅŸtirilebilse de, bazÄ±larÄ± deÄŸil. Bu nedenle yapÄ±lacak bir hata, tekrar servisin baÅŸtan oluÅŸturulmasÄ±yla sonuÃ§alanabilir.</p>

<p>Cluster detay sayfasÄ±nda, <strong>Services</strong> sekmesindeki <strong>Create</strong> butonuna tÄ±klayarak, servis oluÅŸturma sihirbazÄ±mÄ±a ulaÅŸabiliriz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/21.png" /></p>

<p>Birinci adÄ±mda, <strong>Configure Service</strong> bÃ¶lÃ¼mÃ¼ altÄ±nda, Ã§ok temel servis ayarlarÄ±nÄ± yapÄ±yoruz. Yine her zaman yaptÄ±ÄŸÄ±mÄ±z gibi <strong>Fargate</strong>â€˜i seÃ§iyoruz. Ã–nceki adÄ±mlarda oluÅŸturduÄŸumuz <strong>Task Definition</strong>â€˜Ä± bu bÃ¶lÃ¼mde seÃ§iyoruz. Task definitionâ€™Ä±n farklÄ± sÃ¼rÃ¼mleri olabilir. Ãœzerinde yapÄ±lan her bir deÄŸiÅŸiklik bir sÃ¼rÃ¼mÃ¼ temsil eder. Biz son sÃ¼rÃ¼mÃ¼nÃ¼ seÃ§iyoruz. <strong>Service Name</strong> bÃ¶lÃ¼mÃ¼ne <em>mavi-api-service</em> yazÄ±yoruz. <strong>Number of tasks</strong> bÃ¶lÃ¼mÃ¼nde, bu serviste kaÃ§ tane task Ã§alÄ±ÅŸtÄ±rÄ±lacaÄŸÄ±nÄ± soruyor. Biz buraya ÅŸimdilik <strong>1</strong> yazabiliriz. Ancak 3. aÅŸamada yapacaÄŸÄ±mÄ±z auto scaling ayarlarÄ± sonrasÄ± buraya yazdÄ±ÄŸÄ±mÄ±z deÄŸer Ã¶nemsiz hale gelecek. Geriye kalan her ÅŸeyi varsayÄ±lan haliyle bÄ±rakabiliriz ve sonraki adÄ±ma geÃ§ebiliriz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/22.png" /></p>

<p><strong>VPC and security groups</strong> bÃ¶lÃ¼mÃ¼nde, Load Balancerâ€™Ä±mÄ±z ile aynÄ± VPC ve subnet Ã¼zerinde yer almaya dikkat ediyoruz. <strong>Security groups</strong> bÃ¶lÃ¼mÃ¼nÃ¼ olduÄŸu gibi bÄ±rakabiliriz. Bu bÃ¶lÃ¼mdeki ayarlarÄ± bizim iÃ§in AWSâ€™in yapÄ±landÄ±rmasÄ±nda ÅŸu an iÃ§in yarar var.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/23.png" /></p>

<p><strong>Load balancing</strong> bÃ¶lÃ¼mÃ¼nde, daha Ã¶nceden hazÄ±rladÄ±ÄŸÄ±mÄ±z Load Balancerâ€™Ä±mÄ±zÄ± servisimize baÄŸlayacaÄŸÄ±z. Bunun iÃ§in <strong>Network Load Balancer</strong>â€˜Ä± seÃ§iyoruz. Hemen aÅŸaÄŸÄ±sÄ±nda, daha Ã¶nceden oluÅŸturduÄŸumuz <strong>mavi-api-load-balancer</strong>â€˜Ä± gÃ¶rebiliyor olmamÄ±z gerekiyor. <strong>Add Load Balancer</strong>â€˜Ä± tÄ±kladÄ±ÄŸÄ±mÄ±zda, Load Balancer ile servis entegrasyonu iÃ§in son ayarlara geÃ§ebiliriz. <strong>Production listener port</strong> bÃ¶lÃ¼mÃ¼ndeki alanda <strong>8080</strong> portunu yazabiliriz. Bu veriyi daha sonra kaldÄ±racaÄŸÄ±z. <strong>Target group name</strong> bÃ¶lÃ¼mÃ¼ne ise <strong>mavi-api-target-group</strong> yazabiliriz. <strong>Health check protocol</strong> olarak da <strong>HTTP</strong> seÃ§memiz gerekiyor. Bu ÅŸekilde, her bir task ayapa kalktÄ±ÄŸÄ±nda, AWS HTTP Ã¼zerinden bir istek gÃ¶ndererek 200 yanÄ±tÄ±nÄ±n dÃ¶nmesini bekleyecek, eÄŸer beklenen yanÄ±t belirli bir periyod boyunca gelirse, ilgili task <strong>â€œSaÄŸlÄ±klÄ±â€</strong> olarak adlandÄ±rÄ±lacak ve Load Balancer bu taskâ€™a trafik yÃ¶nlendirmeye baÅŸlayacaktÄ±r. Bu iÅŸlemlerden sonra Load Balancer ayarlarÄ±mÄ±z ÅŸu ÅŸekilde gÃ¶zÃ¼kmelidir.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/24.png" /></p>

<p>Bu adÄ±mda son olarak <strong>Enable service discovery integration</strong> bÃ¶lÃ¼mÃ¼ndeki checkboxâ€™Ä± kaldÄ±rÄ±yoruz. Bu Ã¶zelliÄŸe ihtiyacÄ±mÄ±z olmayacak.</p>

<p>ÃœÃ§Ã¼ncÃ¼ adÄ±mda, <strong>Set Auto Scaling (optional)</strong> baÅŸlÄ±ÄŸÄ±nÄ± gÃ¶receksiniz. Ä°ÅŸte burasÄ±, ECSâ€™in kalbidir. Bu bÃ¶lÃ¼mde, ne gibi ÅŸartlarda yeni makineler oluÅŸturularak servise eklenecek, ne gibi ÅŸartlarda makine sayÄ±sÄ± dÃ¼ÅŸÃ¼rÃ¼lecek belirleyebiliyoruz.</p>

<p><em>â€œConfigure Service Auto Scaling to adjust your serviceâ€™s desired countâ€</em>, seÃ§eneÄŸini seÃ§tiÄŸimizde hemen aÅŸaÄŸÄ±da bir takÄ±m bilgiler girilmesi isteniyor. Bilgileri aÅŸaÄŸÄ±daki gibi doldurabiliriz. Burada, en az kaÃ§ taskâ€™Ä±mÄ±zÄ±n olmasÄ± gerektiÄŸine, kaÃ§ tane task Ã§alÄ±ÅŸtÄ±rÄ±lmasÄ±nÄ± arzuladÄ±ÄŸÄ±mÄ±zÄ± ve en fazla kaÃ§ task Ã§alÄ±ÅŸtÄ±rabileceÄŸimizi seÃ§ebiliyoruz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/25.png" /></p>

<p><strong>Automatic task scaling policies</strong> bÃ¶lÃ¼mÃ¼nde, Ã§alÄ±ÅŸan task sayÄ±sÄ±nÄ± neye gÃ¶re arttÄ±rÄ±p azaltacaÄŸÄ±mÄ±zÄ± belirliyoruz. Ben bu Ã¶rneÄŸimizde ortalama bellek kullanÄ±mÄ±nÄ± takip edeceÄŸimizi belirttim. EÄŸer bellek kullanÄ±mÄ± %20â€™Ã¼ geÃ§erse yeni bir task oluÅŸturulmasÄ± gerektiÄŸini, daha aÅŸaÄŸÄ±sÄ±na inerse servis iÃ§erisindeki bir taskâ€™Ä±n kaldÄ±rÄ±lmasÄ± gerektiÄŸini belirttim.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/26.png" /></p>

<p>Son adÄ±ma geldiÄŸimizde AWS bize bir Ã¶zet gÃ¶sterecektir. <strong>Create Service</strong> butonuna tÄ±klayarak servisi oluÅŸturabiliriz. TÃ¼m tanÄ±mlar bittikten sonra Ã§alÄ±ÅŸan tasklarÄ± gÃ¶rebiliriz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/27.png" /></p>

<h4 id="610-load-balancer-ayarÄ±">6.10. Load Balancer AyarÄ±</h4>

<p>Son olarak, Load Balancer Ã¼zerinde ufak bir ayar yapmamÄ±z gerekecek. Load Balancer listesine gittiÄŸimizde, Listener sekmesinde aÅŸaÄŸÄ±daki gibi bir yapÄ± gÃ¶rÃ¼yor olacaÄŸÄ±z;</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/28.png" /></p>

<p>Burada, iki farklÄ± target group gÃ¶rÃ¼yoruz. Bizim amacÄ±mÄ±z dinlediÄŸimiz 80 portunu <strong>mavi-api-target-group</strong> target groupâ€™una yÃ¶nlendirmek. Edit menÃ¼sÃ¼ Ã¼zerinden bunu yapÄ±yoruz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/29.png" /></p>

<p>Daha sonra 8080 portundaki dinlemeyi silebiliriz. AynÄ± ÅŸekilde <strong>Target Groups</strong> altÄ±nda yer alan ve artÄ±k kullanÄ±lmayan <strong>target-group</strong>â€˜u da silebiliriz. Target Groupsâ€™un altÄ±nda yer alan <strong>mavi-api-target-groups</strong>â€˜u seÃ§tiÄŸimizde, hemen altÄ±nda beliren <strong>Targets</strong> sekmesi iÃ§erisinde, ECS tarafÄ±ndan oluÅŸturulan taskâ€™larÄ± gÃ¶rebiliriz. OluÅŸturulan her task, Health Checkâ€™den geÃ§irilecek ve saÄŸlÄ±klÄ± olanlara Load Balancer trafiÄŸi yÃ¶nlendirilecek.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/30.png" /></p>

<p>EÄŸer her ÅŸey yolundaysa, Load Balancerâ€™a baÄŸladÄ±ÄŸÄ±nÄ±z IP adresinizi kullanarak uygulamanÄ±za artÄ±k eriÅŸebilirsiniz;</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/31.png" /></p>

<h4 id="611-auto-scaling-tetikleme">6.11 Auto Scaling Tetikleme</h4>

<p>Benim geliÅŸtirdiÄŸimiz uygulamada, memory mikrarÄ±nÄ± arttÄ±rmak iÃ§in Ã¶zel olarak tasarladÄ±ÄŸÄ±m bir route var; <code class="language-plaintext highlighter-rouge">http://3.124.14.233/image</code>. Bu routeâ€™a gÃ¶nderdiÄŸiniz her istekten sonra, bir resim dosyasÄ± aÃ§Ä±lÄ±yor ve iÃ§eriÄŸi bir diziye atÄ±lÄ±yor. Her istekte dizi sÃ¼rekli bÃ¼yÃ¼dÃ¼ÄŸÃ¼ iÃ§in memory kullanÄ±mÄ± da artÄ±yor. Bu URLâ€™e istek gÃ¶ndererek kullanÄ±lan RAM miktarÄ±nÄ± arttÄ±rdÄ±ÄŸÄ±mÄ±zda, belirlediÄŸimiz <em>Auto Scaling Policy</em> gereÄŸi, yeni bir task daha ECS tarafÄ±ndan otomatik olarak oluÅŸturulacaktÄ±r.</p>

<blockquote>
  <p>Bizim hazÄ±rladÄ±ÄŸÄ±mÄ±z protokole gÃ¶re, 5 dakika boyunca bu <em>yoÄŸun bellek kullanÄ±mÄ±</em> senaryosu devam etmek zorunda.</p>
</blockquote>

<p><img class="center" src="/images/posts/gitlab-ci-aws/32.png" /></p>

<p>YukarÄ±daki resimde de gÃ¶rdÃ¼ÄŸÃ¼nÃ¼z gibi, bellek beklediÄŸimizden Ã¼st seviyeye Ã§Ä±ktÄ±ÄŸÄ±nda, sisteme yeni taskâ€™lar ECS tarafÄ±ndan otomatik olarak ilave ediliyor. AyrÄ±ca bu olay hakkÄ±nda <strong>Events</strong> sekmesi altÄ±nda da log oluÅŸturulduÄŸunu gÃ¶rebilirsiniz.</p>

<p><img class="center" src="/images/posts/gitlab-ci-aws/33.png" /></p>

<h4 id="612-yeni-versiyon-yayÄ±nlama">6.12. Yeni Versiyon YayÄ±nlama</h4>

<p>Buraya kadar yaptÄ±ÄŸÄ±mÄ±z iÅŸlemler bir seferlik iÅŸlemlerdi. Ancak bir nokta eksik kaldÄ±, o da otomatik olarak yeni bir sÃ¼rÃ¼mÃ¼n yayÄ±nlanmasÄ±. Bu iÅŸ iÃ§in GitLabâ€™Ä±n CI/CD teknolojisinden yararlanacaÄŸÄ±z.</p>

<p>AWS bize komut satÄ±rÄ±ndan kullanÄ±labilecek <em>aws-cli</em> aracÄ±nÄ± saÄŸlÄ±yor. Zaten bu araÃ§ vasÄ±tasÄ± ile GitLab Ã¼zerinden uygulamamÄ±zÄ± dockerize ederek ECRâ€™e pushladÄ±k. AynÄ± aracÄ± kullanarak, dilediÄŸimiz servis iÃ§in yeniden deployment yapÄ±lmasÄ±nÄ± isteyebiliyoruz. <code class="language-plaintext highlighter-rouge">.gitlab-ci.yml</code> dosyasÄ±ndaki script bÃ¶lÃ¼mÃ¼nÃ¼n son satÄ±rÄ±na, aÅŸaÄŸÄ±daki komutu da yazarsak, yeni image ECRâ€™a yÃ¼klendikten sonra oluÅŸturduÄŸumuz servis iÃ§in yeni bir deployment yapÄ±lmasÄ± gerektiÄŸini ECSâ€™e sÃ¶yleyebiliriz.</p>

<pre><code class="language-yaml">stages:
  - deploy

services:
  - docker:19.03.0-dind

deploy-api:
  stage: deploy
  image: docker
  tags:
    - 'docker'
  only:
    refs:
      - master
  script:
    - apk add --update python python-dev py-pip build-base 
    - pip install awscli --upgrade --user
    - ~/.local/bin/aws --version
    - $(~/.local/bin/aws ecr get-login --no-include-email --region eu-central-1)
    - docker build -t api .
    - docker tag api:latest 459672519579.dkr.ecr.eu-central-1.amazonaws.com/mavi-api-repository:latest
    - docker push 459672519579.dkr.ecr.eu-central-1.amazonaws.com/mavi-api-repository:latest
    - ~/.local/bin/aws ecs update-service --cluster mavi-api-cluster --service mavi-api-service --force-new-deployment
</code></pre>

<p>LÃ¼tfen son satÄ±rdaki komuta dikkat edin. Son komutta, ECS Ã¼zerindeki <em>mavi-api-cluster</em>, iÃ§erisinde bulunan <em>mavi-api-service</em> servisi iÃ§in yeni bir deployment yapÄ±lmasÄ± gerektiÄŸini sÃ¶ylÃ¼yoruz. Bu komut Ã§alÄ±ÅŸtÄ±rÄ±ldÄ±ktan sonra, ECS yeni sÃ¼rÃ¼mden tasklarÄ± otomatik olarak oluÅŸturur. Ancak eski versiyonlarÄ± kapatmaz. Ne zaman ki yeni sÃ¼rÃ¼mler saÄŸlÄ±klÄ± olarak iÅŸaretlenir, o zaman eski sÃ¼rÃ¼mler tek tek kaldÄ±rÄ±lÄ±r. DolayÄ±sÄ±yla son kullanÄ±cÄ± hiÃ§ bir ÅŸey fark etmez.</p>

<h3 id="sonuÃ§">SonuÃ§</h3>

<p>Zaten yazÄ± hali hazÄ±rda epey uzun olduÄŸu iÃ§in Ã§ok fazla ÅŸey yazmak istemiyorum. SonuÃ§ ortada, gÃ¶rÃ¼yorsunuz. Suya sabuna dokunmadan, devase bir sistem kurduk. Ãœstelik son derece dÃ¼ÅŸÃ¼k maliyetle. Bir milyon kullanÄ±cÄ± da gelse, sistemimiz ona gÃ¶re kendisini ayarlayabilir. Ancak bir milyon kullanÄ±cÄ±nÄ±n bir dakika iÃ§erisinde gelmesi hala bir sÄ±kÄ±ntÄ±. Bu yÃ¼zden Task Definition iÃ§erisinde oluÅŸturulan makinelerin CPU ve RAM miktarlarÄ±nÄ±n Ã§ok da dÃ¼ÅŸÃ¼k seÃ§ilmemesi gerekiyor. Her ÅŸeye raÄŸmen, sonuÃ§ yine de harika.</p>

<p>Ancak oluÅŸturduÄŸumuz hemen hemen her ÅŸeyi ayrÄ± ayrÄ± faturanÄ±za yansÄ±yayacaÄŸÄ±nÄ±zÄ± unutmayÄ±n. LÃ¼tfen her bir Ã¼rÃ¼nÃ¼n fiyatlandÄ±rma detayÄ±nÄ± kontrol edin. EÄŸer uygulamayÄ± kendi hesabÄ±nÄ±zda denediyseniz, denemeleriniz bittikten sonra hepsini silmenizi Ã¶neririm. Aksi takdirde kullanmadÄ±ÄŸÄ±nÄ±z servislere gereksiz faturalar Ã¶deyebilirsiniz.</p>

<h3 id="referanslar">Referanslar</h3>

<p><a href="https://ozguradem.net/turkish/coding/2019/04/13/aws-cloud-front-content-delivery-network-nedir-nasil-kullanilir/">[1] Amazon CloudFront Nedir ve NasÄ±l KullanÄ±lÄ±r?</a></p>

<p><a href="https://aws.amazon.com/tr/what-is-aws/">[2] AWS ile bulut biliÅŸim?</a></p>

<p><a href="https://www.mobilhanem.com/aws-dersleri-aws-nedir/">[3] AWS Dersleri â€“ AWS Nedir?</a></p>

<p><a href="https://about.gitlab.com/what-is-gitlab/">[4] What is GitLab?</a></p>

<p><a href="https://aws.amazon.com/devops/what-is-devops/">[5] What is DevOps?</a></p>

<p><a href="https://ozguradem.net/turkish/coding/2019/01/16/gitlab-ile-ci-cd/">[6] GitLab Ä°le CI/CD</a></p>

<p><a href="https://www.docker.com/why-docker">[7] Docker: The Modern Platform for High-Velocity Innovation</a></p>

<p><a href="https://www.emrealadag.com/docker-nedir.html">[8] Docker Nedir?</a></p>

<p><a href="https://gokhansengun.com/docker-nedir-nasil-calisir-nerede-kullanilir/">[9] Docker BÃ¶lÃ¼m 1: Nedir, NasÄ±l Ã‡alÄ±ÅŸÄ±r, Nerede KullanÄ±lÄ±r?</a></p>

<p><a href="http://www.ilterismutlu.com/yatay-vs-dikey-olceklenebilirlik-horizontally-vs-vertically-scalable-scalability/">[10] Yatay vs Dikey Ã–lÃ§eklenebilirlik</a></p>

<p><a href="https://aws.amazon.com/fargate/">[11] AWS Fargate</a></p>
:ET