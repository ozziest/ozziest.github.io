I"™7<p><a href="https://pixabay.com/photos/dock-ship-container-port-boat-1277744/" target="_blank">
    <img src="/images/posts/20.jpg" class="center" />
</a></p>

<h3 id="1-motivasyon">1. Motivasyon</h3>

<p>Åu an dÃ¼nya Ã¼zerindeki internet kullanÄ±cÄ±sÄ± sayÄ±sÄ± 4.39 milyardan daha fazla [<a href="https://wearesocial.com/blog/2019/01/digital-2019-global-internet-use-accelerates">1</a>]. Ãœstelik bu bir nefeste rahatlÄ±ka telaffuz ettiÄŸimiz rakam, her geÃ§en gÃ¼n hÄ±zla artÄ±yor. 2023 yÄ±lÄ±ndan sonra internete baÄŸlÄ± olan cihaz sayÄ±sÄ±nÄ±n 50 milyarÄ± geÃ§eceÄŸi tahmin ediliyor [<a href="https://www.statista.com/statistics/471264/iot-number-of-connected-devices-worldwide/">2</a>]. Ä°nternet demek, temelde birbirine baÄŸlÄ± cihazlarÄ±n haberleÅŸmesi, bilgi alÄ±ÅŸ veriÅŸinde bulunmasÄ± demektir. Bu nedenle geliÅŸtireceÄŸimiz ya da geliÅŸtirmekte olduÄŸumuz uygulamarÄ±n, kapsamlarÄ± da Ã¶nemli olmakla birlikte, bu denli yÃ¼ksek potansiyel kullanÄ±cÄ±ya hizmet verebilmesi oldukÃ§a ciddi bir sorun olmaya baÅŸlÄ±yor.</p>

<p>YazÄ±lÄ±m geliÅŸtirme ekosisteminde Ã¶lÃ§eklendirme, yukarÄ±daki paragrafta bahsettiÄŸimiz bu sorunun Ã§Ã¶zÃ¼mÃ¼ iÃ§in gerekli olan yÃ¶ntem ve tekniklerin bÃ¼tÃ¼nÃ¼ olarak nitelendirilebilmektedir. WikiPediaâ€™da kullanÄ±lan tanÄ±ma gÃ¶re <strong><em>Ã¶lÃ§eklendirme; artan iÅŸ yÃ¼kÃ¼ne cevap verebilmek iÃ§in mevcut sisteme daha fazla kaynak eklenmesi Ã¶zelliÄŸidir</em></strong> [<a href="https://en.wikipedia.org/wiki/Scalability">3</a>]. Web sunucularÄ± Ã¶zelinde mesele ele alÄ±ndÄ±ÄŸÄ±nda, web sunucusunun daha fazla isteÄŸe cevap verebilmesi beklenmektedir. Ã–lÃ§eklendirmeyi yatay ve dikey (horizontal,vertical) olarak iki farklÄ± tÃ¼rde yapabiliriz. Ya mevcut bir sunucuya direkt olarak daha fazla donanÄ±msal kaynak ekleriz ya da daha aynÄ± sunucunun daha fazla yan yana koyarak isteklere sÄ±rayla cevap vermelerini bekleriz.</p>

<p>Ã–lÃ§eklendirmedeki asÄ±l sorun maliyettir. Bir startup ÅŸirketi olarak yeni uygulama geliÅŸtirdiÄŸinizi dÃ¼ÅŸÃ¼nÃ¼n. UygulamanÄ±zÄ±n potansiyel kullanÄ±cÄ±sÄ± 1 milyar. Bu potansiyel kullanÄ±cÄ±larÄ±n hiÃ§ bir zaman uygulamanÄ±zÄ± kullanmama ihtimali de olmasÄ±na karÅŸÄ±n, gerÃ§ekleÅŸtiÄŸinde onlara cevap verebilmeniz gerekmektedir. EÄŸer tÃ¼m Ã¶lÃ§eklendirme sorunlarÄ±nÄ± kendi baÅŸÄ±mÄ±za Ã§Ã¶zmeye kalkarsak, Ã§ok ciddi yatÄ±rÄ±mlar yapmak zorundayÄ±z. Tam da bu noktada yardÄ±mÄ±mÄ±za bulut servis saÄŸlayÄ±cÄ±lar (Cloud Services Providers) koÅŸmaktadÄ±r.</p>

<h3 id="2-cloud-services-providers">2. Cloud Services Providers</h3>

<p>Amazon kimileri iÃ§in bir e-ticaret sitesinden ibaret olsa da, bizim iÃ§in Ã¶lÃ§eklenebilirlik sorunlarÄ±mÄ±za Ã§Ã¶zÃ¼m bulan gÃ¼Ã§lÃ¼ bir yardÄ±mcÄ±mÄ±zdÄ±r. Kendi e-ticaret ihtiyaÃ§larÄ± iÃ§in kendi sunucularÄ±na ciddi rakamlarla yatÄ±rÄ±mlar yapmÄ±ÅŸ ve ciddi boyuttaki iÅŸlem yÃ¼klerine cevap verebilmektedir. Bize saÄŸladÄ±ÄŸÄ± gÃ¼zellik de kendi imkanlarÄ±nÄ± bizimle paylaÅŸmasÄ±dÄ±r. Tabii olarak bu paylaÅŸÄ±m iÃ§in bir miktar kira talep etmektedir. Ancak gÃ¼zel tarafÄ± artan taleplerinize gÃ¶re fiyatlandÄ±rma (On Deman Pricing) uygulamasÄ±dÄ±r. AWS kullandÄ±ÄŸÄ±nÄ±zda, yukarÄ±daki Ã¶rneÄŸimizdeki gibi potansiyel kullanÄ±cÄ±sÄ± 1 milyar olan bir uygulama geliÅŸtirdiÄŸiniz zaman, ilk zamanlarda yÃ¼ksek miktarlarda yatÄ±rÄ±m yapmanÄ±za gerek kalmamaktadÄ±r. KullanÄ±cÄ± sayÄ±sÄ±nÄ±z ve doÄŸal olarak iÅŸ yÃ¼kÃ¼nÃ¼z dÃ¼ÅŸÃ¼kken, daha dÃ¼ÅŸÃ¼k Ã¼cretler Ã¶demeniz bulut servis saÄŸlayÄ±cÄ±larla mÃ¼mkÃ¼n olabilmektedir.</p>

<blockquote>
  <p>Amazon (AWS), bulut servis saÄŸlayÄ±cÄ±sÄ± sunan tek ÅŸirket deÄŸildir. Google, Microsoft, IBM ve hatta AliBaba da bulut servis saÄŸlayÄ±cÄ±larÄ±n sunduklarÄ± bir Ã§ok hizmeti sunmaktadÄ±r. Ancak bu yazÄ±mÄ±zda konumuz Amazon CloudFront olduÄŸu iÃ§in diÄŸer saÄŸlayÄ±cÄ±lar gÃ¶z ardÄ± edilmiÅŸtir.</p>
</blockquote>

<h3 id="3-amazon-cloudfront">3. Amazon CloudFront</h3>

<p>Amazon CloudFront, uygulamalarÄ±mÄ±z iÃ§in hÄ±zlÄ±, gÃ¼venli ve programlanabilir CDN (Content Delivery Network) hizmeti sunmaktadÄ±r. GÃ¶khan ÅengÃ¼nâ€™Ã¼n yaptÄ±ÄŸÄ± tanÄ±ma gÃ¶re;</p>

<blockquote>
  <p>CDN, bir web sitesinin iÃ§eriÄŸini en dÃ¼ÅŸÃ¼k aÄŸ ve iÅŸlem gecikmesi ile yani en hÄ±zlÄ± bir ÅŸekilde kullanÄ±cÄ±lara ulaÅŸtÄ±rmak Ã¼zere coÄŸrafi olarak farklÄ± bÃ¶lgelerde konumlandÄ±rÄ±lmÄ±ÅŸ sunucu kÃ¼mesine verilen isimdir. <a href="https://medium.com/@gokhansengun/cdn-nedir-ve-neden-kullan%C4%B1l%C4%B1r-71f6ffce6133">[4]</a></p>
</blockquote>

<p>Elbette kendimiz de standart bir sunucu ya da sunucular kiralayÄ±p, CDN hizmetini kendimiz de yapÄ±landÄ±rabiliriz. Ancak yÃ¼kÃ¼mÃ¼z arttÄ±ÄŸÄ±nda daha Ã§ok sunucu kiralamalÄ± ve daha sunucularÄ±n yÃ¶netimleriyle daha Ã§ok ilgilenmeliyiz. Bu da bize maliyet olarak yansÄ±yacaktÄ±r.</p>

<p>Bir baÅŸka Ã¶nemli konu ise uygulamamÄ±zÄ±n yÃ¼kÃ¼nÃ¼n her zaman aynÄ± olmayacaÄŸÄ±dÄ±r. Ã–rneÄŸin mesai saatleri iÃ§erisinde daha yoÄŸun istek alabilirsiniz. EÄŸer bir e-ticaret uygulamanÄ±z varsa Black Friday gibi indirim gÃ¼nlerinde normalin Ã¼zerinde istek almanÄ±z kuvvetle muhtemeldir. EÄŸer CDN sunucularÄ±mÄ±zÄ± kendimiz yÃ¶netiyor olsaydÄ±k, maliyetlerimizi minimal tutmak iÃ§in Ã§ok ciddi eforlar sarf etmemiz gerekecekti. Amazon CloudFront bizi tÃ¼m bu dertlerden kurtarmaktadÄ±r.</p>

<h3 id="4-nasÄ±l-Ã§alÄ±ÅŸÄ±r">4. NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h3>

<p><img src="/images/posts/21.png" class="center" /></p>
<p class="img-description">Resim 1 - Amazon CloudFront Schema</p>

<p>Temel olarak dosyalarÄ±mÄ±zÄ± bir kaynaÄŸa koymamÄ±z gerekmektedir. Daha sonra Amazon CloudFront bu kaynaktaki dosyalarÄ±, farklÄ± lokasyonlardaki sunuculara yerleÅŸtirir ve bir domain Ã¼zerinden son kulanÄ±cÄ±ya sunmaya baÅŸlar. Siz yeni dosyalar ekledikÃ§e ya da dosyalarÄ±nÄ±zÄ± gÃ¼ncelledikÃ§e, bu dosyalarÄ± ilgili lokasyonlarda gÃ¼nceller. Ä°stek yapan kullanÄ±cÄ±nÄ±n lokasyonuna gÃ¶re en hÄ±zlÄ± yanÄ±t verebilecek sunucu yanÄ±t dÃ¶ner. Ne kadar Ã§ok istek alÄ±rsanÄ±z alÄ±n, Amazon sizin iÃ§in yanÄ±t verme iÅŸlemini otomatik olarak gerÃ§ekleÅŸtirir. Bunun yanÄ±nda oldukÃ§a kullanÄ±ÅŸlÄ± bir Cache mekanizmasÄ± da sunmaktadÄ±r.</p>

<p>TÃ¼m bunlarÄ±n karÅŸÄ±lÄ±ÄŸÄ±nda gerÃ§ekleÅŸtirilen istek baÅŸÄ±na bir Ã¼cret talep etmektedir.</p>

<h3 id="5-uygulama">5. Uygulama</h3>

<p>GerÃ§ekleÅŸtireceÄŸimiz bir Ã¶rnekle kullanÄ±mÄ± biraz daha yakÄ±ndan inceleyeceÄŸiz. SÄ±rasÄ±yla yapacaklarÄ±mÄ±z;</p>

<ul>
  <li>Basit bir web uygulamasÄ± geliÅŸtirmek. (index.html, hello world!)</li>
  <li>DosyalarÄ±mÄ±zÄ± koyacaÄŸÄ±mÄ±z S3 Bucket yapÄ±landÄ±rmasÄ±nÄ± yapmak.</li>
  <li>Amazon CloudFront entegrasyonunu tamamlamak.</li>
</ul>

<h4 id="51-web-uygulamasÄ±">5.1. Web UygulamasÄ±</h4>

<p>AÅŸaÄŸÄ±daki ÅŸekilde basit bir web uygulamamÄ±z olduÄŸunu varsayalÄ±m;</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span>Hello World!<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<h4 id="52-s3-bucket-yapÄ±lanmdÄ±rmasÄ±">5.2. S3 Bucket YapÄ±lanmdÄ±rmasÄ±</h4>

<p>KÄ±sa adÄ±yla <strong>S3</strong>, uzun adÄ±yla <strong>Simple Storage Service</strong>; her tÃ¼rlÃ¼ dosyalarÄ±mÄ±zÄ± barÄ±ndÄ±rmak iÃ§in Amazon tarafÄ±ndan saÄŸlanan alandÄ±r. Bir <strong>S3 Bucket</strong> yaratarak, oluÅŸturulan bÃ¶lÃ¼m altÄ±na dosyalarÄ±mÄ±zÄ± yÃ¼kleyebiliriz. TÄ±pkÄ± Dropbox gibi <strong><em>AWS Console</em></strong> Ã¼zerinden bir arayÃ¼zle yÃ¼kleme yapabileceÄŸimiz gibi, <strong><em>aws cli</em></strong> marifetiyle de komut satÄ±rÄ± Ã¼zerinden ya da doÄŸrudan Amazon APIâ€™larÄ±nÄ± kullanarak programatik olarak da dosyalarÄ±mÄ±zÄ± <strong><em>Bucket</em></strong> iÃ§erisine yÃ¼kleyebiliriz. Bu Ã¶rneÄŸimizde doÄŸrudan Amazonâ€™un arayÃ¼zlerini kullanacaÄŸÄ±z.</p>

<p>Ã–ncelikle <strong><em>AWS Console</em></strong> Ã¼zerindeki hesabÄ±nÄ±zla oturum aÃ§abilirsiniz. Daha sonra <strong><em>Services</em></strong> menÃ¼sÃ¼ altÄ±ndaki <strong><em>Storage</em></strong> bÃ¶lÃ¼mÃ¼ altÄ±nda, <strong><em>S3</em></strong> servisini seÃ§in.</p>

<p><strong><em>Create bucket</em></strong> butonu ile yeni bir S3 oluÅŸturma penceresine ulaÅŸabilirsiniz. OluÅŸturacaÄŸÄ±mÄ±z Bucketâ€™a tekil bir isim vermeniz gerekmektedir. Ã–rnek uygulamamÄ±z iÃ§in lokasyon seÃ§eneÄŸimiz Ã¶nemli deÄŸil.</p>

<p><img src="/images/posts/22.JPG" class="center" /></p>
<p class="img-description">Resim 2 - Create Bucket</p>

<p><strong><em>Configure Options</em></strong> bÃ¶lÃ¼mÃ¼ndeki ayarlarÄ± olduÄŸu gibi bÄ±rakabiliriz. Ancak oluÅŸturacaÄŸÄ±mÄ±z bucket iÃ§erisindeki dosyalara tÃ¼m kullanÄ±cÄ±larÄ±n ulaÅŸabilmesi iÃ§in <strong><em>Set Permissions</em></strong> ekranÄ±ndaki ayarlarÄ±n aÅŸaÄŸÄ±daki gibi olmasÄ± gerekmektedir.</p>

<p><img src="/images/posts/23.JPG" class="center" /></p>
<p class="img-description">Resim 3 - Create Bucket, set permissions</p>

<p><strong><em>Review</em></strong> adÄ±mÄ±nda seÃ§tiÄŸimiz yapÄ±landÄ±rmanÄ±n bir Ã¶nizlemesi gÃ¶sterilecektir. <strong><em>Create Bucket</em></strong> butonuna basarak bucketâ€™Ä±mÄ±zÄ± oluÅŸturabiliriz. ArtÄ±k CloudFrontâ€™un kullanabileceÄŸi bir S3 Bucketâ€™Ä±na sahibiz.</p>

<p><img src="/images/posts/24.JPG" class="center" /></p>
<p class="img-description">Resim 4 - S3 Bucket List</p>

<p>YukarÄ±da da bahsettiÄŸimiz gibi dosyalarÄ± doÄŸrudan bu ekran Ã¼zerinden yÃ¼kleyebiliriz.</p>

<blockquote>
  <p>Ã–rnek uygulama gerÃ§ekleÅŸtirdiÄŸimiz iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarda manuel yÃ¼klemeleri detaylÄ±ca anlatacaÄŸÄ±z ancak DevOps teknikleri kullanÄ±larak dosyalarÄ±n programatik olarak yÃ¼klenmesi daha saÄŸlÄ±klÄ± olacaktÄ±r.</p>
</blockquote>

<p><strong><em>ozziest-test-s3</em></strong> ismini verdiÄŸimiz bucketâ€™a tÄ±kladÄ±ÄŸÄ±mÄ±zda, <strong><em>Upload</em></strong> butonun gÃ¶receksiniz. Bir Ã¶nceki adÄ±mda oluÅŸturduÄŸumuz <code class="language-plaintext highlighter-rouge">index.html</code> isimli dosyayÄ± seÃ§ip ilerleyebiliriz. <strong><em>Set Permissions</em></strong> adÄ±mÄ±nda aÅŸaÄŸÄ±da gÃ¶sterildiÄŸi gibi dosya iÃ§in public eriÅŸim vermemiz gerekmektedir. Aksi takdirde dosyayÄ± son kullanÄ±cÄ±lar gÃ¶rÃ¼ntÃ¼leyemez.</p>

<p><img src="/images/posts/25.JPG" class="center" /></p>
<p class="img-description">Resim 5 - Upload to Bucket, Set Permissions</p>

<p><strong><em>Set Properties</em></strong> ve <strong><em>Review</em></strong> ekranlarÄ±nda herhangi bir deÄŸiÅŸiklik yapmamÄ±z gerekmiyor. <strong><em>Upload</em></strong> butonuna tÄ±klayarak dosya yÃ¼kleme iÅŸlemini tamamlayabiliriz.</p>

<blockquote>
  <p>Amazonâ€™un S3 Ã¼zerindeki dosyalarÄ±nÄ±z iÃ§in sizden saklama ve eriÅŸim Ã¼creti talep edeceÄŸini lÃ¼tfen unutmayÄ±n.</p>
</blockquote>

<p>Ancak tÃ¼m dosyalarÄ±mÄ±zÄ±n bir web uygulamasÄ± gibi sunulabilmesi iÃ§in son bir ayar daha yapmamÄ±z gerekiyor. Bucket iÃ§erisindeyken <strong><em>Properties</em></strong> sekmesine ulaÅŸarak <strong><em>Static Website Hosting</em></strong> seÃ§eneÄŸini aktif hale getirmemiz gerekiyor.</p>

<p><img src="/images/posts/29.JPG" class="center" /></p>
<p class="img-description">Resim 6 - S3 Bucket, Static Website Hosting</p>

<h4 id="53-cloudfront-yapÄ±landÄ±rmasÄ±">5.3. CloudFront YapÄ±landÄ±rmasÄ±</h4>

<p>CloudFront yapÄ±landÄ±rmasÄ± iÃ§in <strong><em>Services</em></strong> menÃ¼sÃ¼ altÄ±nda bulunan <strong><em>Networking&amp;Content Delivery</em></strong> bÃ¶lÃ¼mÃ¼nde, CloudFrontâ€™u aÃ§abiliriz. <strong><em>Create Distribution</em></strong> butonu aracÄ±lÄ±ÄŸÄ± ile yeni bir daÄŸÄ±tÄ±m oluÅŸturmak istediÄŸimizi belirtiyoruz. DaÄŸÄ±tÄ±m tipini seÃ§memiz istediÄŸinizde, <strong><em>Web</em></strong>  bÃ¶lÃ¼mÃ¼ altÄ±nda bulunan <strong><em>Get Started</em></strong> butonuna tÄ±klÄ±yoruz.</p>

<p><strong><em>Origin Settings</em></strong> altÄ±nda bulunan <strong><em>Origin Domain Name</em></strong> altÄ±nda oluÅŸturduÄŸumuz S3 Bucketâ€™Ä±nÄ± gÃ¶rebilirsiniz. Ek olarak <strong><em>Default Root Object</em></strong> alanÄ±na, doÄŸrudan index.html dosyamÄ±zÄ±n gÃ¶sterilmesi gerektiÄŸiniz sÃ¶ylemeliyiz. <strong><em>Create Distribution</em></strong> butotuna tÄ±klayarak daÄŸÄ±tÄ±m oluÅŸturma iÅŸlemini tamamlayabiliriz.</p>

<p><img src="/images/posts/26.JPG" class="center" /></p>
<p class="img-description">Resim 7 - CloudFront, Origin Settings</p>

<p>ArtÄ±k CloudFront sayfasÄ±nda daÄŸÄ±tÄ±mÄ±mÄ±zÄ± gÃ¶rebiliyoruz. <strong><em>In Progress</em></strong> olarak gÃ¶zÃ¼ken daÄŸÄ±tÄ±mÄ±mÄ±z tÃ¼m lokasyonlarda yayÄ±na hazÄ±rlanÄ±yor demektir.</p>

<p><img src="/images/posts/27.JPG" class="center" /></p>
<p class="img-description">Resim 8 - CloudFront, In Progress</p>

<p>Bu aÅŸamadan sonra <strong><em>Domain Name</em></strong> altÄ±nda belirtilen adres Ã¼zerinden dosyalarÄ±mÄ±za ulaÅŸabiliriz.</p>

<p><img src="/images/posts/28.JPG" class="center" /></p>
<p class="img-description">Resim 9 - CloudFront in action</p>

<h3 id="6-sonuÃ§">6. SonuÃ§</h3>

<p>ArtÄ±k Amazon CloudFront, S3 Ã¼zerinden sunduÄŸumuz tÃ¼m dosyalarÄ± kullanÄ±cÄ±lara ne kadar istek gelirse gelsin ulaÅŸtÄ±racaktÄ±r. GerÃ§ekleÅŸtirdiÄŸimiz CloudFront yapÄ±landÄ±rmasÄ±nda varsayÄ±lan ayarlarÄ± kullandÄ±k. Buna gÃ¶re en iyi eriÅŸim seÃ§eneÄŸini kullanarak, dosyalarÄ±mÄ±z tÃ¼m lokasyonlarda barÄ±ndÄ±rÄ±lÄ±yor. Ancak tÃ¼m bu iÅŸlemlerin bir maliyeti olduÄŸunu ve hem S3 hem de CloudFront iÃ§in ayrÄ± ayrÄ± Ã¼cretlere tahsil edileceÄŸini unutmamak gerekiyor. Fakat nihayetinde dosyalarÄ±mÄ±zÄ± son kullanÄ±cÄ±lara Ã¶lÃ§eklenebilir bir ÅŸekilde aktarmanÄ±n rahatlÄ±ÄŸÄ±nÄ± yaÅŸÄ±yoruz.</p>

<h3 id="referanslar">Referanslar</h3>

<p><a href="https://wearesocial.com/blog/2019/01/digital-2019-global-internet-use-accelerates">[1] Digital 2019: Global Internet Use Accelerates</a></p>

<p><a href="https://www.statista.com/statistics/471264/iot-number-of-connected-devices-worldwide/">[2] Internet of Things (IoT) connected devices installed base worldwide from 2015 to 2025 (in billions)
</a></p>

<p><a href="https://en.wikipedia.org/wiki/Scalability">[3] Scalability</a></p>

<p><a href="https://medium.com/@gokhansengun/cdn-nedir-ve-neden-kullan%C4%B1l%C4%B1r-71f6ffce6133">[4] CDN Nedir ve Neden KullanÄ±lÄ±r?</a></p>

<p><a href="https://aws.amazon.com/s3/">[5] Amazon S3</a></p>

<p><a href="https://aws.amazon.com/cloudfront/">[6] Amazon CloudFront</a></p>
:ET